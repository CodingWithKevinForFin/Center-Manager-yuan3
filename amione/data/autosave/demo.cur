101|1744682160276|timer|concurrency_test.ami|4/14/2025 21:56:00|TjEH7prHHHdXPesh3K11|{"layouts":[{"data":{"includeFiles":[],"metadata":{"browserTitle":"yuan3","callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute show tables;\n","use ds=\"AMI\" execute show triggers;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _CENTER AS EXECUTE SELECT * FROM __CENTER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"CenterName","tp":"String"},{"nm":"Url","tp":"String"},{"nm":"CertFile","tp":"String"},{"nm":"Password","tp":"String"}],"nm":"_CENTER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__CENTER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _CENTER AS EXECUTE SELECT * FROM __CENTER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"CenterName","tp":"String"},{"nm":"Url","tp":"String"},{"nm":"CertFile","tp":"String"},{"nm":"Password","tp":"String"}],"nm":"_CENTER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__CENTER1","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_","userPrefNamespace":"yuan_pref"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":558,"hidden":false,"leftDflt":313,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":145,"widthDflt":1066,"zindexDflt":1}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__CENTER1","child2":"Blank1","dir":"v","locked":false,"offset":0.80112,"upid":"Div1"}},{"portletBuilderId":"amistatictreemap","portletConfig":{"amiColors":[],"amiGrouping":"CenterName","amiHeat":"\"#ffffff\"","amiLabel":"CenterName","amiPanelId":"Heatmap1","amiSize":"","amiStickyness":5,"amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTip":"","amiTitle":"_CENTER","dm":[{"dmadn":"__CENTER","dmtbid":["_CENTER"]}],"fontSize":13,"ratio":1.0,"titlePnl":{"title":"_CENTER"},"upid":"Heatmap1","varTypes":{"CenterName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Url","fw":false,"id":"Url","location":0,"tl":"Url","tp":"text","width":93},{"fm":"CertFile","fw":false,"id":"CertFile","location":1,"tl":"Cert File","tp":"text","width":59},{"fm":"Password","fw":false,"id":"Password","location":2,"tl":"Password","tp":"text","width":67},{"fm":"CenterName","fw":false,"id":"CenterName","location":3,"tl":"Center Name","tp":"text","width":149},{"id":"D","width":100}],"amiPanelId":"__CENTER1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_CENTER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__CENTER1","dmtbid":["_CENTER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_CENTER"},"upid":"__CENTER1","varTypes":{"CenterName":"String","CertFile":"String","Password":"String","Url":"String"}}}]},"location":"concurrency_test.ami","type":"CLOUD"}],"rootLayout":{"location":"concurrency_test.ami","type":"CLOUD"}}
102|1744702924881|timer|untitled.ami|4/15/2025 3:42:04|OAGjXpLHNCQhxihHLvAd|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _CONNECTION AS EXECUTE SELECT * FROM __CONNECTION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"AI","tp":"String"},{"nm":"EC","tp":"Long"},{"nm":"CI","tp":"Long"},{"nm":"MA","tp":"Long"},{"nm":"MC","tp":"Long"},{"nm":"O","tp":"String"},{"nm":"PL","tp":"String"},{"nm":"RI","tp":"String"},{"nm":"RP","tp":"Long"},{"nm":"RH","tp":"String"},{"nm":"CT","tp":"Long"}],"nm":"_CONNECTION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__CONNECTION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PLUGIN AS EXECUTE SELECT * FROM __PLUGIN WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PluginName","tp":"String"},{"nm":"PluginType","tp":"String"},{"nm":"ClassType","tp":"String"},{"nm":"Arguments","tp":"String"}],"nm":"_PLUGIN","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PLUGIN","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":220,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__PLUGIN","child2":"__CONNECTION","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"AI","fw":false,"id":"AI","location":0,"tl":"AI","tp":"text","width":40},{"fm":"EC","fw":false,"id":"EC","location":1,"pc":0,"tl":"EC","tp":"numeric","width":40},{"fm":"CI","fw":false,"id":"CI","location":2,"pc":0,"tl":"CI","tp":"numeric","width":40},{"fm":"MA","fw":false,"id":"MA","location":3,"pc":0,"tl":"MA","tp":"numeric","width":40},{"fm":"MC","fw":false,"id":"MC","location":4,"pc":0,"tl":"MC","tp":"numeric","width":40},{"fm":"O","fw":false,"id":"O","location":5,"tl":"O","tp":"text","width":40},{"fm":"PL","fw":false,"id":"PL","location":6,"tl":"PL","tp":"text","width":40},{"fm":"RI","fw":false,"id":"RI","location":7,"tl":"RI","tp":"text","width":40},{"fm":"RP","fw":false,"id":"RP","location":8,"pc":0,"tl":"RP","tp":"numeric","width":40},{"fm":"RH","fw":false,"id":"RH","location":9,"tl":"RH","tp":"text","width":40},{"fm":"CT","fw":false,"id":"CT","location":10,"pc":0,"tl":"CT","tp":"numeric","width":40},{"id":"D","width":100}],"amiPanelId":"__CONNECTION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_CONNECTION","callbacks":{"entries":[{"amiscript":"1234","linkedVariables":[],"name":"onBeforeEdit"}]},"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__CONNECTION","dmtbid":["_CONNECTION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_CONNECTION"},"upid":"__CONNECTION","varTypes":{"AI":"String","CI":"Long","CT":"Long","EC":"Long","MA":"Long","MC":"Long","O":"String","PL":"String","RH":"String","RI":"String","RP":"Long"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"PluginName","fw":false,"id":"PluginName","location":0,"tl":"Plugin Name","tp":"text","width":110},{"fm":"PluginType","fw":false,"id":"PluginType","location":1,"tl":"Plugin Type","tp":"text","width":98},{"fm":"ClassType","fw":false,"id":"ClassType","location":2,"tl":"Class Type","tp":"text","width":371},{"fm":"Arguments","fw":false,"id":"Arguments","location":3,"tl":"Arguments","tp":"text","width":1246},{"id":"D","width":100}],"amiPanelId":"__PLUGIN","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PLUGIN","callbacks":{"entries":[{"amiscript":"123;","linkedVariables":[],"name":"onBeforeEdit"}]},"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__PLUGIN","dmtbid":["_PLUGIN"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_PLUGIN"},"upid":"__PLUGIN","varTypes":{"Arguments":"String","ClassType":"String","PluginName":"String","PluginType":"String"}}}]},"location":"untitled.ami","type":null}],"rootLayout":{"location":"untitled.ami","type":null}}
103|1744732136390|timer|untitled.ami|4/15/2025 11:48:56|pd7NqTiMY7o2BtOr3GIZ|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":160,"portlet":"Blank1","pos":0,"stateDflt":"flt","title":"Window","topDflt":180,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}}]},"location":"untitled.ami","type":null}],"rootLayout":{"location":"untitled.ami","type":null}}
104|1744787810561|save-action|untitled.ami|4/16/2025 3:16:50|4lQNJftOiAAT2vBaUt8J|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
105|1744788488614|timer|editor_trigger.ami|4/16/2025 3:28:08|4lQNJftOiAAT2vBaUt8J|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy2","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
106|1744888423985|timer|editor_trigger.ami|4/17/2025 7:13:43|0y2manaJXQ3WUVzfirPk|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
107|1745291797319|editmode-toggled|editor_trigger.ami|4/21/2025 23:16:37|ADXTNiLcenX8KCd16Dtc|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"session.notify(\"123\",\"123\",\"\",new map(), new map());","linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Button","leftPosPx":100,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
108|1745292039016|editmode-toggled|editor_trigger.ami|4/21/2025 23:20:39|ADXTNiLcenX8KCd16Dtc|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":"session.alert(attachment)","linkedVariables":[],"name":"onNotificationHandled"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"session.notify(\"123\",\"<div>123</div>\",null,new map(), new map());","linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Button","leftPosPx":100,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
109|1745292326772|editmode-toggled|editor_trigger.ami|4/21/2025 23:25:26|ADXTNiLcenX8KCd16Dtc|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":"//session.alert(attachment)","linkedVariables":[],"name":"onNotificationHandled"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"session.notify(\"12zz3\",\"<div>123</div>\",null,new map(), new map());","linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Button","leftPosPx":100,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
110|1745301509801|editmode-toggled|editor_trigger.ami|4/22/2025 1:58:29|ggXqPLpVPZbaGFa5P7EC|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":287},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
111|1745495593415|timer|editor_trigger.ami|4/24/2025 7:53:13|e8DrneGTnLLJfcOSdXuG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION1","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
112|1745498485496|timer|editor_trigger.ami|4/24/2025 8:41:25|lyvQuLYO2qgO3tyzsp7S|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":"session.alert(123)","linkedVariables":[],"name":"onSelected"}]},"display":"\"MENU1\"","icon":"","id":"MENU1","position":0,"status":"\"enabled\""}],"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
113|1745553284609|timer|editor_trigger.ami|4/24/2025 23:54:44|IkI8Y0nKCRkA5YnfBiv6|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
114|1745560487740|timer|editor_trigger.ami|4/25/2025 1:54:47|IkI8Y0nKCRkA5YnfBiv6|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit 1,1; \n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
115|1745585766438|editmode-toggled|multi_accounts.ami|4/25/2025 8:56:06|qbkJEGZjDjNliyqDoKSx|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiCustomCss":[".material {\n"," background: #2E2E2E;\n"," border: none;\n"," /*border-bottom: 1px solid #1A1B1F;*/\n"," -moz-border-radius: 0px;\n"," -webkit-border-radius: 10px 10px 0px 0px;\n"," border-radius: 10px 10px 0px 0px;\n","}\n","\n",".material_button {\n"," background-color: #3C55B2;\n"," color: white;\n"," border: none;\n"," border-radius: 20px 20px 20px 20px;\n"," box-shadow: 1px 1px 10px rgb(117, 115, 115);\n","}\n","\n",".error {\n"," color: red;\n","}\n","\n",".noerror {\n"," color: white;\n","}"],"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"NOVA_DARK_SPARSE"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":441,"hidden":false,"leftDflt":640,"portlet":"Html1","pos":0,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"text_field.setValue(\"focus\");","linkedVariables":[{"ari":"FIELD:Html1?text","varName":"text_field"}],"name":"onFocus"}]},"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":180,"v":[],"widthPx":200,"zidx":2},{"callbacks":{"entries":[{"amiscript":["this.setValue(\"\");\n","//session.alert(\"\");"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}}]},"location":"multi_accounts.ami","type":"LOCAL"}],"rootLayout":{"location":"multi_accounts.ami","type":"LOCAL"}}
116|1745585791571|editmode-toggled|multi_accounts.ami|4/25/2025 8:56:31|qbkJEGZjDjNliyqDoKSx|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiCustomCss":[".material {\n"," background: #2E2E2E;\n"," border: none;\n"," /*border-bottom: 1px solid #1A1B1F;*/\n"," -moz-border-radius: 0px;\n"," -webkit-border-radius: 10px 10px 0px 0px;\n"," border-radius: 10px 10px 0px 0px;\n","}\n","\n",".material_button {\n"," background-color: #3C55B2;\n"," color: white;\n"," border: none;\n"," border-radius: 20px 20px 20px 20px;\n"," box-shadow: 1px 1px 10px rgb(117, 115, 115);\n","}\n","\n",".error {\n"," color: red;\n","}\n","\n",".noerror {\n"," color: white;\n","}"],"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"NOVA_DARK_SPARSE"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":441,"hidden":false,"leftDflt":640,"portlet":"Html1","pos":0,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"text_field.setValue(\"focus\");","linkedVariables":[{"ari":"FIELD:Html1?text","varName":"text_field"}],"name":"onFocus"}]},"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":180,"v":[],"widthPx":200,"zidx":2},{"callbacks":{"entries":[{"amiscript":["this.setValue(\"123\");\n","//session.alert(\"\");"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}}]},"location":"multi_accounts.ami","type":"LOCAL"}],"rootLayout":{"location":"multi_accounts.ami","type":"LOCAL"}}
117|1745586720961|editmode-toggled|multi_accounts.ami|4/25/2025 9:12:00|qbkJEGZjDjNliyqDoKSx|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiCustomCss":[".material {\n"," background: #2E2E2E;\n"," border: none;\n"," /*border-bottom: 1px solid #1A1B1F;*/\n"," -moz-border-radius: 0px;\n"," -webkit-border-radius: 10px 10px 0px 0px;\n"," border-radius: 10px 10px 0px 0px;\n","}\n","\n",".material_button {\n"," background-color: #3C55B2;\n"," color: white;\n"," border: none;\n"," border-radius: 20px 20px 20px 20px;\n"," box-shadow: 1px 1px 10px rgb(117, 115, 115);\n","}\n","\n",".error {\n"," color: red;\n","}\n","\n",".noerror {\n"," color: white;\n","}"],"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"NOVA_DARK_SPARSE"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":441,"hidden":false,"leftDflt":640,"portlet":"Html1","pos":0,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"text_field.setValue(\"focus\");","linkedVariables":[{"ari":"FIELD:Html1?text","varName":"text_field"}],"name":"onFocus"}]},"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":180,"v":[],"widthPx":200,"zidx":2},{"callbacks":{"entries":[{"amiscript":["this.setValue(\"123\");\n","session.alert(\"\");"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}}]},"location":"multi_accounts.ami","type":"LOCAL"}],"rootLayout":{"location":"multi_accounts.ami","type":"LOCAL"}}
118|1745587563402|editmode-toggled|multi_accounts.ami|4/25/2025 9:26:03|qbkJEGZjDjNliyqDoKSx|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiCustomCss":[".material {\n"," background: #2E2E2E;\n"," border: none;\n"," /*border-bottom: 1px solid #1A1B1F;*/\n"," -moz-border-radius: 0px;\n"," -webkit-border-radius: 10px 10px 0px 0px;\n"," border-radius: 10px 10px 0px 0px;\n","}\n","\n",".material_button {\n"," background-color: #3C55B2;\n"," color: white;\n"," border: none;\n"," border-radius: 20px 20px 20px 20px;\n"," box-shadow: 1px 1px 10px rgb(117, 115, 115);\n","}\n","\n",".error {\n"," color: red;\n","}\n","\n",".noerror {\n"," color: white;\n","}"],"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"NOVA_DARK_SPARSE"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":441,"hidden":false,"leftDflt":640,"portlet":"Html1","pos":0,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"text_field.setValue(\"focus\");","linkedVariables":[{"ari":"FIELD:Html1?text","varName":"text_field"}],"name":"onFocus"}]},"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":180,"v":[],"widthPx":200,"zidx":2},{"callbacks":{"entries":[{"amiscript":["this.setValue(\"123\");\n","//session.alert(\"\");"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}}]},"location":"multi_accounts.ami","type":"LOCAL"}],"rootLayout":{"location":"multi_accounts.ami","type":"LOCAL"}}
119|1745587710545|save-action|multi_accounts.ami|4/25/2025 9:28:30|qbkJEGZjDjNliyqDoKSx|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiCustomCss":[".material {\n"," background: #2E2E2E;\n"," border: none;\n"," /*border-bottom: 1px solid #1A1B1F;*/\n"," -moz-border-radius: 0px;\n"," -webkit-border-radius: 10px 10px 0px 0px;\n"," border-radius: 10px 10px 0px 0px;\n","}\n","\n",".material_button {\n"," background-color: #3C55B2;\n"," color: white;\n"," border: none;\n"," border-radius: 20px 20px 20px 20px;\n"," box-shadow: 1px 1px 10px rgb(117, 115, 115);\n","}\n","\n",".error {\n"," color: red;\n","}\n","\n",".noerror {\n"," color: white;\n","}"],"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"NOVA_DARK_SPARSE"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":441,"hidden":false,"leftDflt":640,"portlet":"Html1","pos":0,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":"text_field.setValue(\"focus\");","linkedVariables":[{"ari":"FIELD:Html1?text","varName":"text_field"}],"name":"onFocus"}]},"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":180,"v":[],"widthPx":200,"zidx":2},{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","//session.alert(\"\");"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}}]},"location":"multi_accounts.ami","type":"LOCAL"}],"rootLayout":{"location":"multi_accounts.ami","type":"LOCAL"}}
120|1745993903810|save-action|editor_trigger.ami|4/30/2025 2:18:23|mKP46Z1dDQ4nrXYH94LG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
121|1745994690553|timer|editor_trigger.ami|4/30/2025 2:31:30|mKP46Z1dDQ4nrXYH94LG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","//session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
122|1745994922589|editmode-toggled|editor_trigger.ami|4/30/2025 2:35:22|mKP46Z1dDQ4nrXYH94LG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
123|1745995590608|timer|editor_trigger.ami|4/30/2025 2:46:30|mKP46Z1dDQ4nrXYH94LG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
124|1746081357133|timer|editor_trigger.ami|5/01/2025 2:35:57|cHQp9S5lMI0bS8NHHs2X|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html1","child2":"Div4","dir":"v","locked":false,"offset":0.79166,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PNL1","child2":"PNL2","dir":"v","locked":false,"offset":0.65635,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"date","fw":false,"id":"date","location":0,"pc":0,"tl":"Date","tp":"numeric","width":80},{"fm":"id","fw":false,"id":"id","location":1,"pc":0,"tl":"Id","tp":"numeric","width":80},{"fm":"name","fw":false,"id":"name","location":2,"tl":"Name","tp":"text","width":100},{"fm":"price","fw":false,"id":"price","location":3,"tl":"Price","tp":"price","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"orders1","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:orders1"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"orders1"},"upid":"Table1","varTypes":{"date":"Integer","id":"Integer","name":"String","price":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"date","fw":false,"id":"date","location":0,"pc":0,"tl":"Date","tp":"numeric","width":80},{"fm":"id","fw":false,"id":"id","location":1,"pc":0,"tl":"Id","tp":"numeric","width":80},{"fm":"name","fw":false,"id":"name","location":2,"tl":"Name","tp":"text","width":100},{"fm":"price","fw":false,"id":"price","location":3,"tl":"Price","tp":"price","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"orders2","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:orders2"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"orders2"},"upid":"Table2","varTypes":{"date":"Integer","id":"Integer","name":"String","price":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
125|1746494477985|timer|editor_trigger.ami|5/05/2025 21:21:17|8jT900qzDvM0ZIpIm2Mb|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
126|1746507138083|timer|editor_trigger.ami|5/06/2025 0:52:18|8jT900qzDvM0ZIpIm2Mb|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
127|1746546335355|timer|editor_trigger.ami|5/06/2025 11:45:35|d5X0ZEXyFLP7Gt347J6o|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"__INDEX1","lower":["__INDEX"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
128|1746593793286|timer|editor_trigger.ami|5/07/2025 0:56:33|BC9ZUWzjwHJyhahXynjI|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{ int foo(int a){\n","  return 0;\n","};\n","\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
129|1746711826952|timer|editor_trigger.ami|5/08/2025 9:43:46|zzaD9ZgX4ltWnagacQov|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"Blank1","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":300,"widthDflt":960,"zindexDflt":7}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
130|1746805534693|timer|editor_trigger.ami|5/09/2025 11:45:34|ozNcl8o2DMzHOnQAZQZa|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":160,"portlet":"Blank1","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":180,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_TIMER","dmadn":"__TIMER","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_TIMER"},"upid":"Chart1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
131|1747038356537|timer|editor_trigger.ami|5/12/2025 4:25:56|Ah1xjcEhpTrKXjiELQvy|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_INDEX","dmadn":"__INDEX","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_INDEX"},"upid":"Chart1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
132|1747039379151|timer|editor_trigger.ami|5/12/2025 4:42:59|tULPLLGLLqRrmPRodcvb|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_INDEX","dmadn":"__INDEX","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_INDEX"},"upid":"Chart1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
133|1747063011466|timer|editor_trigger.ami|5/12/2025 11:16:51|eCiHkkAq68UKTzTHaaUO|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_INDEX","dmadn":"__INDEX","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_INDEX"},"upid":"Chart1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
134|1747063911516|timer|editor_trigger.ami|5/12/2025 11:31:51|eCiHkkAq68UKTzTHaaUO|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
135|1747068756476|timer|editor_trigger.ami|5/12/2025 12:52:36|QFQnrmH2AUOexGHnEuzV|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_INDEX","dmadn":"__INDEX","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_INDEX"},"upid":"Chart1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
136|1747153863244|save-action|editor_trigger.ami|5/13/2025 12:31:03|qBj33tN05L8plwIsdK9V|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
137|1747154824476|timer|editor_trigger.ami|5/13/2025 12:47:04|qBj33tN05L8plwIsdK9V|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
138|1747211327285|timer|editor_trigger.ami|5/14/2025 4:28:47|BOEsR4J6h59LJi2sRFnN|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{int foo(){\n","  return 3;\n","}\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
139|1747221557401|timer|editor_trigger.ami|5/14/2025 7:19:17|BOEsR4J6h59LJi2sRFnN|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{int foo(){\n","  return 3;\n","};\n","\n","int foo2(){\n","  return 4;\n","};\n","\n","int foo3(){\n","  return 4;\n","};\n","\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
140|1747287345230|timer|editor_trigger.ami|5/15/2025 1:35:45|iuIipzdQuSH2zYKUIDxm|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div3","pos":4,"stateDflt":"flt","title":"Window - 5","topDflt":100,"widthDflt":960,"zindexDflt":6}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Commodities1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Price"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Price USD"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Commodities","dmadn":"Commodities","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(Price, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(PriceUSD, \"#.000\", \"\")","xPos":"Price","yPos":"PriceUSD"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Commodities"},"upid":"Commodities1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities1","child2":"Blank1","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
141|1747288459509|timer|editor_trigger.ami|5/15/2025 1:54:19|d3EbAYwvqTQEdYmrJZE3|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{int foo(){\n","  return 2;\n","}\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":4,"stateDflt":"flt","title":"Window - 5","topDflt":300,"widthDflt":960,"zindexDflt":8}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"2"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"2"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_INDEX","dmadn":"__INDEX","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(2, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(2, \"#.000\", \"\")","xPos":"2","yPos":"2"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
142|1747298308165|timer|editor_trigger.ami|5/15/2025 4:38:28|96xoKOJsqgzF1zjcTJvL|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{int foow2(int a, int b, int c){\n","  return 223;\n","};\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
143|1747389539462|timer|editor_trigger.ami|5/16/2025 5:58:59|PQRETaIXWWCGXoTFS7F6|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{int foo(int i){\n","  return i;\n","}\n","}"],"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["this.setValue(timestamp());\n","session.alert(123);"],"linkedVariables":[],"name":"onFocus"}]},"heightPx":20,"l":"Text","leftPosPx":100,"n":"text","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
144|1748403475957|save-action|editor_trigger.ami|5/27/2025 23:37:55|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
145|1748403959018|editmode-toggled|editor_trigger.ami|5/27/2025 23:45:59|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
146|1748404176130|timer|editor_trigger.ami|5/27/2025 23:49:36|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"Blank1","pos":1,"stateDflt":"flt","title":"Window","topDflt":220,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
147|1748404836106|editmode-toggled|editor_trigger.ami|5/28/2025 0:00:36|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":360,"portlet":"Html1","pos":1,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":674,"zindexDflt":2}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":20,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
148|1748404858433|editmode-toggled|editor_trigger.ami|5/28/2025 0:00:58|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":360,"portlet":"Html1","pos":1,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":674,"zindexDflt":2}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":96,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":20,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"}],"widthPx":200,"zidx":2},{"heightPx":100,"l":"Multi Select","leftPosPx":100,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":20,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
149|1748404869148|editmode-toggled|editor_trigger.ami|5/28/2025 0:01:09|C8TgnHSSxSbYaUzks2sF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":360,"portlet":"Html1","pos":1,"stateDflt":"flt","title":"Window","topDflt":380,"widthDflt":674,"zindexDflt":2}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":100,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":120,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"}],"widthPx":200,"zidx":2},{"heightPx":100,"l":"Multi Select","leftPosPx":64,"n":"multiselect","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiSelectField","topPosPx":220,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
150|1748586364640|editmode-toggled|editor_trigger.ami|5/30/2025 2:26:04|TG4FO7I5nDCepodifPhG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":3,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":100,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":20,"v":[{"k":"a","v":"a"},{"k":"aa","v":"aa"},{"k":"abc","v":"abc"},{"k":"abd","v":"abd"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
151|1748591418656|save-action|editor_trigger.ami|5/30/2025 3:50:18|UmjpajoBppycynatOosG|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
152|1748833476892|editmode-toggled|editor_trigger.ami|6/01/2025 23:04:36|v5WV13qMd1re4zhOBNhj|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":3,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":100,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":20,"v":[],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
152|1748833530197|editmode-toggled|editor_trigger.ami|6/01/2025 23:05:30|DLb8qSXXI50LFi1Da3Lz|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Html1","pos":3,"stateDflt":"flt","title":"Window - 3","topDflt":60,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":100,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":20,"v":[{"k":"BackupEquityODD","v":"BackupEquityODD"},{"k":"BackupFirmwideODD","v":"BackupFirmwideODD"},{"k":"BackupMacroODD","v":"BackupMacroODD"},{"k":"BarraBundle_nuw","v":"BarraBundle_nuw"},{"k":"BarraPortfolioMetrics","v":"BarraPortfolioMetrics"},{"k":"BarraSecurityMetrics","v":"BarraSecurityMetrics"},{"k":"BarraTree","v":"BarraTree"},{"k":"BatchFileUpload_nuw","v":"BatchFileUpload_nuw"},{"k":"BloombergMarketDataSubscription","v":"BloombergMarketDataSubscription"},{"k":"BloombergMarketDataUsage","v":"BloombergMarketDataUsage"},{"k":"BundleLevelPositions","v":"BundleLevelPositions"},{"k":"BundleMapping","v":"BundleMapping"},{"k":"BundleMetadata","v":"BundleMetadata"},{"k":"BusinessLevelAgg","v":"BusinessLevelAgg"},{"k":"BusinessLevelData","v":"BusinessLevelData"},{"k":"CHILD_ORDERS","v":"CHILD_ORDERS"},{"k":"CUSTOMER_DETAILS","v":"CUSTOMER_DETAILS"},{"k":"ColChange","v":"ColChange"},{"k":"CommodDelta","v":"CommodDelta"},{"k":"CommodGamma","v":"CommodGamma"},{"k":"CommodPnL","v":"CommodPnL"},{"k":"CommodPnLExpl","v":"CommodPnLExpl"},{"k":"CommodRho","v":"CommodRho"},{"k":"CommodTheta","v":"CommodTheta"},{"k":"CommodVega","v":"CommodVega"},{"k":"Commodities","v":"Commodities"},{"k":"CommoditiesAgg","v":"CommoditiesAgg"},{"k":"CommoditiesData","v":"CommoditiesData"},{"k":"CommoditiesJoin","v":"CommoditiesJoin"},{"k":"CommoditiesPnL","v":"CommoditiesPnL"},{"k":"CommoditiesTickerSize","v":"CommoditiesTickerSize"},{"k":"ComplianceAlerts","v":"ComplianceAlerts"},{"k":"DDQEquities","v":"DDQEquities"},{"k":"DESTINATIONS","v":"DESTINATIONS"},{"k":"DROPPED_EXECUTIONS","v":"DROPPED_EXECUTIONS"},{"k":"DataFilterColumns","v":"DataFilterColumns"},{"k":"DataFilterEnabled","v":"DataFilterEnabled"},{"k":"DataFilterPluginAudit","v":"DataFilterPluginAudit"},{"k":"DataFilterPluginAudit2","v":"DataFilterPluginAudit2"},{"k":"DemoTable","v":"DemoTable"},{"k":"DetailSampleTradeExtract","v":"DetailSampleTradeExtract"},{"k":"EXCHANGES","v":"EXCHANGES"},{"k":"EXECUTIONS","v":"EXECUTIONS"},{"k":"EXECUTION_SUMMARY","v":"EXECUTION_SUMMARY"},{"k":"EqRiskLadder","v":"EqRiskLadder"},{"k":"EqRiskLadderStatus","v":"EqRiskLadderStatus"},{"k":"Equities","v":"Equities"},{"k":"EquitiesAgg","v":"EquitiesAgg"},{"k":"EquitiesData","v":"EquitiesData"},{"k":"EquitiesPnL","v":"EquitiesPnL"},{"k":"EquitiesTickerSize","v":"EquitiesTickerSize"},{"k":"EquityODD","v":"EquityODD"},{"k":"EquityODDAgg","v":"EquityODDAgg"},{"k":"EquityODDIntermediate","v":"EquityODDIntermediate"},{"k":"EquityODDReport","v":"EquityODDReport"},{"k":"EquityODDSubPMContribution","v":"EquityODDSubPMContribution"},{"k":"EquityODDVaRReport","v":"EquityODDVaRReport"},{"k":"FEPortfolio","v":"FEPortfolio"},{"k":"FIX_CONNECTIONS","v":"FIX_CONNECTIONS"},{"k":"FIX_CONNECTION_ATTRIBUTES","v":"FIX_CONNECTION_ATTRIBUTES"},{"k":"FIX_CONNECTION_EVENTS","v":"FIX_CONNECTION_EVENTS"},{"k":"FIX_CONNECTION_SCHEDULES","v":"FIX_CONNECTION_SCHEDULES"},{"k":"FIX_MESSAGES","v":"FIX_MESSAGES"},{"k":"FIX_TAGS","v":"FIX_TAGS"},{"k":"FX","v":"FX"},{"k":"FXAgg","v":"FXAgg"},{"k":"FXDV01PnL","v":"FXDV01PnL"},{"k":"FXDV01Risks","v":"FXDV01Risks"},{"k":"FXDelta","v":"FXDelta"},{"k":"FXDeltaExtract","v":"FXDeltaExtract"},{"k":"FXJoin","v":"FXJoin"},{"k":"FXPnL","v":"FXPnL"},{"k":"FXRisk","v":"FXRisk"},{"k":"FXRiskStatus","v":"FXRiskStatus"},{"k":"FX_Greeks","v":"FX_Greeks"},{"k":"FirmwideODD","v":"FirmwideODD"},{"k":"FirmwideODD2","v":"FirmwideODD2"},{"k":"FirmwideODDTemp","v":"FirmwideODDTemp"},{"k":"FlexSecurities","v":"FlexSecurities"},{"k":"FxPriceTestMA","v":"FxPriceTestMA"},{"k":"Groups","v":"Groups"},{"k":"HomeUseCases","v":"HomeUseCases"},{"k":"IRSPnL","v":"IRSPnL"},{"k":"IRSRates","v":"IRSRates"},{"k":"IRSRisks","v":"IRSRisks"},{"k":"IRVolPnL","v":"IRVolPnL"},{"k":"IRZeroDelta","v":"IRZeroDelta"},{"k":"IRZeroDeltaStatus","v":"IRZeroDeltaStatus"},{"k":"IrsRates","v":"IrsRates"},{"k":"JainDataFilterColumns","v":"JainDataFilterColumns"},{"k":"LOG_TRAIL","v":"LOG_TRAIL"},{"k":"LR-PNL-Equities","v":"LR-PNL-Equities"},{"k":"LastReceivedODD","v":"LastReceivedODD"},{"k":"MacroFxDelta","v":"MacroFxDelta"},{"k":"MacroODD","v":"MacroODD"},{"k":"MacroODDAgg","v":"MacroODDAgg"},{"k":"MacroODDIntermediate","v":"MacroODDIntermediate"},{"k":"MacroODDReport","v":"MacroODDReport"},{"k":"MacroODDSubPMContribution","v":"MacroODDSubPMContribution"},{"k":"MacroODDVaRReport","v":"MacroODDVaRReport"},{"k":"MacroPortfolio","v":"MacroPortfolio"},{"k":"ORDERS","v":"ORDERS"},{"k":"ORDER_SUMMARY","v":"ORDER_SUMMARY"},{"k":"PARENT_EXECUTIONS","v":"PARENT_EXECUTIONS"},{"k":"PMCategory","v":"PMCategory"},{"k":"PMLevelData","v":"PMLevelData"},{"k":"PNLExplainedDetail","v":"PNLExplainedDetail"},{"k":"PRODUCT_DATA","v":"PRODUCT_DATA"},{"k":"PermissionTest","v":"PermissionTest"},{"k":"Permissions","v":"Permissions"},{"k":"PnLSummary","v":"PnLSummary"},{"k":"PortfolioLevelData","v":"PortfolioLevelData"},{"k":"PortfolioManagers","v":"PortfolioManagers"},{"k":"PortfolioMonitoring","v":"PortfolioMonitoring"},{"k":"PortfolioMonitoringAgg","v":"PortfolioMonitoringAgg"},{"k":"PortfolioMonitoringDetail","v":"PortfolioMonitoringDetail"},{"k":"PositionReport","v":"PositionReport"},{"k":"RAW_FIX_MESSAGES","v":"RAW_FIX_MESSAGES"},{"k":"RTR-PNL","v":"RTR-PNL"},{"k":"RatesAgg","v":"RatesAgg"},{"k":"RatesBbgMapping","v":"RatesBbgMapping"},{"k":"RatesDV01","v":"RatesDV01"},{"k":"RatesDV01V2","v":"RatesDV01V2"},{"k":"RatesJoin","v":"RatesJoin"},{"k":"RatesPnL","v":"RatesPnL"},{"k":"RatesXccyBbgMapping","v":"RatesXccyBbgMapping"},{"k":"RealtimePrice","v":"RealtimePrice"},{"k":"RestrictedList","v":"RestrictedList"},{"k":"SampleEquityReport","v":"SampleEquityReport"},{"k":"SecBundle","v":"SecBundle"},{"k":"SecBundlePM","v":"SecBundlePM"},{"k":"Securities","v":"Securities"},{"k":"SecurityLevelPositions","v":"SecurityLevelPositions"},{"k":"SecurityMaster","v":"SecurityMaster"},{"k":"Summary","v":"Summary"},{"k":"SystemColumnsCopy","v":"SystemColumnsCopy"},{"k":"TTT","v":"TTT"},{"k":"TempEquityODD","v":"TempEquityODD"},{"k":"TempEquityODD2","v":"TempEquityODD2"},{"k":"TempMacroODD","v":"TempMacroODD"},{"k":"TempMacroODD2","v":"TempMacroODD2"},{"k":"UserBundlePermissions","v":"UserBundlePermissions"},{"k":"UserImpersonation","v":"UserImpersonation"},{"k":"UserPermissionsLayouts","v":"UserPermissionsLayouts"},{"k":"VaR_BundleId","v":"VaR_BundleId"},{"k":"VaR_business_strategy","v":"VaR_business_strategy"},{"k":"VaR_firm","v":"VaR_firm"},{"k":"VaR_pm","v":"VaR_pm"},{"k":"VaR_position","v":"VaR_position"},{"k":"VaR_sub_pm","v":"VaR_sub_pm"},{"k":"VegaRisks","v":"VegaRisks"},{"k":"VolAgg","v":"VolAgg"},{"k":"VolBbgMapping","v":"VolBbgMapping"},{"k":"VolJoin","v":"VolJoin"},{"k":"VolPnL","v":"VolPnL"},{"k":"Vols","v":"Vols"},{"k":"VolsChanges","v":"VolsChanges"},{"k":"XccyRates","v":"XccyRates"},{"k":"__CENTER","v":"__CENTER"},{"k":"__COLUMN","v":"__COLUMN"},{"k":"__COMMAND","v":"__COMMAND"},{"k":"__CONNECTION","v":"__CONNECTION"},{"k":"__DATASOURCE","v":"__DATASOURCE"},{"k":"__DATASOURCE_TYPE","v":"__DATASOURCE_TYPE"},{"k":"__DBO","v":"__DBO"},{"k":"__INDEX","v":"__INDEX"},{"k":"__PLUGIN","v":"__PLUGIN"},{"k":"__PROCEDURE","v":"__PROCEDURE"},{"k":"__PROPERTY","v":"__PROPERTY"},{"k":"__RELAY","v":"__RELAY"},{"k":"__REPLICATION","v":"__REPLICATION"},{"k":"__RESOURCE","v":"__RESOURCE"},{"k":"__STATS","v":"__STATS"},{"k":"__TABLE","v":"__TABLE"},{"k":"__TIMER","v":"__TIMER"},{"k":"__TRIGGER","v":"__TRIGGER"},{"k":"actionAudit","v":"actionAudit"},{"k":"crudDemo","v":"crudDemo"},{"k":"fakeOrderIds","v":"fakeOrderIds"},{"k":"fakeorders","v":"fakeorders"},{"k":"flex_pm_view","v":"flex_pm_view"},{"k":"flex_pm_view_audit","v":"flex_pm_view_audit"},{"k":"fp2","v":"fp2"},{"k":"jg-flex-order_2","v":"jg-flex-order_2"},{"k":"jg-flex-order_2_filtered","v":"jg-flex-order_2_filtered"},{"k":"jg-flex-position_2","v":"jg-flex-position_2"},{"k":"orders1","v":"orders1"},{"k":"orders2","v":"orders2"},{"k":"rttest","v":"rttest"},{"k":"strTest","v":"strTest"},{"k":"temp","v":"temp"},{"k":"test23","v":"test23"}],"widthPx":201,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
153|1748834255541|editmode-toggled|editor_trigger.ami|6/01/2025 23:17:35|1wddIhjfBAdEGqlCRI7l|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Html1","pos":3,"stateDflt":"flt","title":"Window - 3","topDflt":100,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":100,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":20,"v":[{"k":"a","v":"a"},{"k":"b","v":"b"},{"k":"c","v":"c"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
154|1748834989274|timer|editor_trigger.ami|6/01/2025 23:29:49|1wddIhjfBAdEGqlCRI7l|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"datamodel","pos":1,"stateDflt":"flt","title":"Window - 4","topDflt":220,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Div3","pos":2,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Html1","pos":3,"stateDflt":"flt","title":"Window - 3","topDflt":100,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":44},{"fm":"Currency","fw":false,"id":"Currency","location":1,"pc":0,"tl":"Currency","tp":"numeric","width":62},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"numeric","width":40},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":95},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price USD","tp":"numeric","width":70},{"fm":"DeltaTMinusOne","fw":false,"id":"DeltaTMinusOne","location":5,"tl":"Delta TMinus One","tp":"numeric","width":114},{"id":"D","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Commodities","dmtbid":["Commodities"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"Integer","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__TIMER","child2":"Commodities","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div1","child2":"Div4","dir":"h","locked":false,"offset":0.60079,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Blank1","child2":"Blank2","dir":"v","locked":false,"offset":0.79166,"upid":"Div4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"TimerName","fw":false,"id":"TimerName","location":0,"tl":"Timer Name","tp":"text","width":140},{"fm":"TimerType","fw":false,"id":"TimerType","location":1,"tl":"Timer Type","tp":"text","width":80},{"fm":"Priority","fw":false,"id":"Priority","location":2,"tl":"Priority","tp":"text","width":50},{"fm":"Schedule","fw":false,"id":"Schedule","location":3,"tl":"Schedule","tp":"text","width":64},{"fm":"Options","fw":false,"id":"Options","location":4,"tl":"Options","tp":"text","width":2454},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":5,"tl":"Defined By","tp":"text","width":73},{"fm":"LastRunTime","fw":false,"id":"LastRunTime","location":6,"tl":"Last Run Time","tp":"datetime_sec","width":94},{"fm":"NextRunTime","fw":false,"id":"NextRunTime","location":7,"tl":"Next Run Time","tp":"datetime_sec","width":96},{"fm":"Enabled","fw":false,"id":"Enabled","location":8,"tl":"Enabled","tp":"text","width":57},{"id":"D","width":100}],"amiPanelId":"__TIMER","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_TIMER","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__TIMER","dmtbid":["_TIMER"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_TIMER"},"upid":"__TIMER","varTypes":{"DefinedBy":"String","Enabled":"Boolean","LastRunTime":"UTC","NextRunTime":"UTC","Options":"String","Priority":"String","Schedule":"String","TimerName":"String","TimerType":"String"}}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"datamodel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"Time"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"Quantity"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"Sample","dmadn":"datamodel","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"2","mShape":"\"circle\"","mWidth":"2","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(time, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(Quantity, \"#.000\", \"\")","xPos":"time","yPos":"Quantity"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"Sample"},"upid":"datamodel"}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
155|1748933936292|timer|editor_trigger.ami|6/03/2025 2:58:56|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
156|1748934444452|editmode-toggled|editor_trigger.ami|6/03/2025 3:07:24|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":400,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":420,"widthDflt":960,"zindexDflt":5}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Select","leftPosPx":100,"n":"select","style":{"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":200,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
157|1748934608165|editmode-toggled|editor_trigger.ami|6/03/2025 3:10:08|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":400,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":420,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Select","leftPosPx":100,"n":"select","style":{"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":40,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":100,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
158|1748934644250|editmode-toggled|editor_trigger.ami|6/03/2025 3:10:44|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":400,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":420,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":120,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":100,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":200,"zidx":2},{"heightPx":20,"l":"Select","leftPosPx":100,"n":"select","style":{"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":40,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":100,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
159|1748938437375|timer|editor_trigger.ami|6/03/2025 4:13:57|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE SRC(COL STRING);\n","  CREATE TABLE TGT(COL STRING);\n","  List srcs = use ds=\"AMI\" EXECUTE SHOW COLUMNS WHERE TableName==\"Accounts\";\n","  List tgts = use ds=\"AMI\" EXECUTE SHOW COLUMNS WHERE TableName==\"Summary\";\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"COL","tp":"String"}],"nm":"SRC","oc":"ask"},{"cols":[{"nm":"COL","tp":"String"}],"nm":"TGT","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"aggregate_editor","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":400,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":420,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":120,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":100,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":200,"zidx":2},{"heightPx":20,"l":"Select","leftPosPx":100,"n":"select","style":{"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":40,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":100,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":218,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
160|1748938501019|save-action|editor_trigger.ami|6/03/2025 4:15:01|5FRf1YsToxAXROerV1B1|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["create table test(id int);\n","insert into test values(1),(2),(3),(4),(5);\n","int totRow = select count(*) from test;\n","\n","create table res as select id from test limit totRow-2,1;"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"}],"nm":"res","oc":"ask"},{"cols":[{"nm":"id","tp":"Integer"}],"nm":"test","oc":"ask"}]}},{"amiscript":["list l = use ds=\"AMI\" EXECUTE SELECT TableName from SHOW TABLES;\n","String res = \"\";\n","for(String s: l){\n","  String l = strSubstring(s,1,s.length());\n","  res += l;\n","  res+=\",\";\n","}\n","res;\n","session.alert(res)\n","//string s = strSubstring(l.toJson(), 1, l.toJson().length() - 1);\n","//session.alert(s)"],"linkedVariables":[],"name":"onAsyncCommandResponse"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Commodities AS EXECUTE SELECT * FROM Commodities WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ticker","tp":"String"},{"nm":"Currency","tp":"Integer"},{"nm":"Price","tp":"Double"},{"nm":"ContractValue","tp":"Double"},{"nm":"PriceUSD","tp":"Double"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"Commodities","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"Commodities","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _INDEX AS EXECUTE SELECT * FROM __INDEX WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"IndexName","tp":"String"},{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"IndexType","tp":"String"},{"nm":"IndexPosition","tp":"String"},{"nm":"Constraint","tp":"String"},{"nm":"AutoGen","tp":"String"},{"nm":"DefinedBy","tp":"String"}],"nm":"_INDEX","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__INDEX","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _REPLICATION AS EXECUTE SELECT * FROM __REPLICATION WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ReplicationName","tp":"String"},{"nm":"TargetTable","tp":"String"},{"nm":"SourceCenter","tp":"String"},{"nm":"SourceTable","tp":"String"},{"nm":"Mapping","tp":"String"},{"nm":"Options","tp":"String"}],"nm":"_REPLICATION","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__REPLICATION","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _TIMER AS EXECUTE SELECT * FROM __TIMER WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TimerName","tp":"String"},{"nm":"TimerType","tp":"String"},{"nm":"Priority","tp":"String"},{"nm":"Schedule","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"DefinedBy","tp":"String"},{"nm":"LastRunTime","tp":"UTC"},{"nm":"NextRunTime","tp":"UTC"},{"nm":"Enabled","tp":"Boolean"}],"nm":"_TIMER","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__TIMER","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","\n","  List srcs = use ds=\"AMI\" EXECUTE SELECT ColumnName FROM SHOW COLUMNS WHERE TableName==\"Accounts\";\n","  List tgts = use ds=\"AMI\" EXECUTE SELECT ColumnName FROM SHOW COLUMNS WHERE TableName==\"Summary\";\n","    CREATE TABLE SRC = use ds=\"AMI\" EXECUTE SELECT ColumnName FROM SHOW COLUMNS WHERE TableName==\"Accounts\";\n","  CREATE TABLE TGT= use ds=\"AMI\" EXECUTE SELECT ColumnName FROM SHOW COLUMNS WHERE TableName==\"Summary\";\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"ColumnName","tp":"String"}],"nm":"SRC","oc":"apply"},{"cols":[{"nm":"ColumnName","tp":"String"}],"nm":"TGT","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"aggregate_editor","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(time int, Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(1,\"MSFT\",100),(2,\"IBM\",200),(3,\"AAPL\",400);\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"time","tp":"Integer"},{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}],"lnk":[{"awcs":[],"callbacks":{},"op":7,"relid":"Show__INDEX","sdmadn":"__REPLICATION","sdmtb":"_REPLICATION","spadn":"__REPLICATION","tdmadn":"__INDEX","title":"Show _INDEX","tpadn":"__INDEX"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Div2","pos":0,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":280,"portlet":"__INDEX1","pos":1,"stateDflt":"flt","title":"Window","topDflt":300,"widthDflt":960,"zindexDflt":5},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":400,"portlet":"Html1","pos":2,"stateDflt":"flt","title":"Window - 3","topDflt":420,"widthDflt":960,"zindexDflt":4},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Div1","pos":3,"stateDflt":"flt","title":"Window - 4","topDflt":60,"widthDflt":960,"zindexDflt":6}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"aggregate_editor","child2":"aggregate_editor1","dir":"v","locked":false,"offset":0.79166,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"__REPLICATION","child2":"__INDEX","dir":"v","locked":false,"offset":0.79166,"upid":"Div2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":20,"l":"Multi Checkbox","leftPosPx":120,"n":"multicheckbox","style":{"pt":"LAYOUT_DEFAULT"},"t":"multiCheckboxField","topPosPx":100,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":200,"zidx":2},{"heightPx":20,"l":"Select","leftPosPx":100,"n":"select","style":{"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":40,"v":[{"k":"account","v":"account"},{"k":"region","v":"region"},{"k":"qty","v":"qty"}],"widthPx":100,"zidx":1}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"IndexName","fw":false,"id":"IndexName","location":0,"tl":"Index Name","tp":"text","width":208},{"fm":"TableName","fw":false,"id":"TableName","location":1,"tl":"Table Name","tp":"text","width":212},{"fm":"ColumnName","fw":false,"id":"ColumnName","location":2,"tl":"Column Name","tp":"text","width":143},{"fm":"IndexType","fw":false,"id":"IndexType","location":3,"tl":"Index Type","tp":"text","width":73},{"fm":"IndexPosition","fw":false,"id":"IndexPosition","location":4,"tl":"Index Position","tp":"text","width":91},{"fm":"Constraint","fw":false,"id":"Constraint","location":5,"tl":"Constraint","tp":"text","width":69},{"fm":"AutoGen","fw":false,"id":"AutoGen","location":6,"tl":"Auto Gen","tp":"text","width":64},{"fm":"DefinedBy","fw":false,"id":"DefinedBy","location":7,"tl":"Defined By","tp":"text","width":73},{"id":"D","width":100}],"amiPanelId":"__INDEX","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"__INDEX1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_INDEX","dm":[{"dmadn":"__INDEX","dmtbid":["_INDEX"]}],"filters":{},"formulas":[{"d":"IndexName","f":"IndexName","id":"indexName","l":false},{"d":"TableName","f":"TableName","id":"tableName","l":false},{"d":"ColumnName","f":"ColumnName","id":"columnName","l":false},{"d":"IndexType","f":"IndexType","id":"indexType","l":false},{"d":"IndexPosition","f":"IndexPosition","id":"indexPosition","l":false},{"d":"Constraint","f":"Constraint","id":"constraint","l":false},{"d":"DefinedBy","f":"DefinedBy","id":"definedBy","l":false}],"hcols":[],"pins":1,"rn":null,"sm":1,"tcoln":"","tcolw":218,"titlePnl":{"title":"_INDEX"},"upid":"__INDEX1","varTypes":{"AutoGen":"String","ColumnName":"String","Constraint":"String","DefinedBy":"String","IndexName":"String","IndexPosition":"String","IndexType":"String","TableName":"String"},"vcols":[{"d":"count(1)","hs":"","i":1,"id":"count","n":"count","pc":0,"w":100,"y":"numeric"},{"d":"(AutoGen)","hs":"","i":2,"id":"autoGen","n":"Auto Gen","w":100,"y":"text"}]}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ReplicationName","fw":false,"id":"ReplicationName","location":0,"tl":"Replication Name","tp":"text","width":112},{"fm":"TargetTable","fw":false,"id":"TargetTable","location":1,"tl":"Target Table","tp":"text","width":80},{"fm":"SourceCenter","fw":false,"id":"SourceCenter","location":2,"tl":"Source Center","tp":"text","width":149},{"fm":"SourceTable","fw":false,"id":"SourceTable","location":3,"tl":"Source Table","tp":"text","width":85},{"fm":"Mapping","fw":false,"id":"Mapping","location":4,"tl":"Mapping","tp":"text","width":59},{"fm":"Options","fw":false,"id":"Options","location":5,"tl":"Options","tp":"text","width":54},{"id":"D","width":100}],"amiPanelId":"__REPLICATION","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_REPLICATION","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"__REPLICATION","dmtbid":["_REPLICATION"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"_REPLICATION"},"upid":"__REPLICATION","varTypes":{"Mapping":"String","Options":"String","ReplicationName":"String","SourceCenter":"String","SourceTable":"String","TargetTable":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ColumnName","fw":false,"id":"ColumnName","location":0,"tl":"Column Name","tp":"text","width":93},{"id":"D","width":100}],"amiPanelId":"aggregate_editor","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"SRC","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"aggregate_editor","dmtbid":["SRC"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"SRC"},"upid":"aggregate_editor","varTypes":{"ColumnName":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"ColumnName","fw":false,"id":"ColumnName","location":0,"tl":"Column Name","tp":"text","width":93},{"id":"D","width":100}],"amiPanelId":"aggregate_editor1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"TGT","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"aggregate_editor","dmtbid":["TGT"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"TGT"},"upid":"aggregate_editor1","varTypes":{"ColumnName":"String"}}}]},"location":"editor_trigger.ami","type":"CLOUD"}],"rootLayout":{"location":"editor_trigger.ami","type":"CLOUD"}}
161|1749023240892|save-action|untitled.ami|6/04/2025 3:47:20|YcuKRkkg9EquDKScfB1x|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":463,"hidden":false,"leftDflt":560,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Custom Tree Column","topDflt":140,"widthDflt":956,"zindexDflt":5}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTreePanel","child2":"treeCustomColumn","dir":"v","locked":false,"offset":0.32922,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"sampleTreePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"filters":{},"formulas":[],"hcols":[],"pins":0,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"Sample"},"upid":"datamodel1","varTypes":{"Quantity":"Long","Symbol":"String"},"vcols":[]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"treeCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"treeCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TreePanel tp = layout.getPanel(\"sampleTreePanel\");\n","tp.addColumn(columnName, \"numeric\", display, 0);\n","TreePanelColumn tpc2 = tp.getColumn(columnName);\n","tpc2.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc2.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html3"}}]},"location":"untitled.ami","type":"CLOUD"}],"rootLayout":{"location":"untitled.ami","type":"CLOUD"}}
162|1749023253338|save-action|untitled.ami|6/04/2025 3:47:33|YcuKRkkg9EquDKScfB1x|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":463,"hidden":false,"leftDflt":560,"portlet":"Div2","pos":1,"stateDflt":"flt","title":"Custom Tree Column","topDflt":140,"widthDflt":956,"zindexDflt":5}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTreePanel","child2":"treeCustomColumn","dir":"v","locked":false,"offset":0.32922,"upid":"Div2"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amitree","portletConfig":{"amiPanelId":"sampleTreePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"filters":{},"formulas":[],"hcols":[],"pins":0,"rn":null,"sm":1,"tcoln":"","tcolw":200,"titlePnl":{"title":"Sample"},"upid":"datamodel1","varTypes":{"Quantity":"Long","Symbol":"String"},"vcols":[]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"treeCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"treeCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TreePanel tp = layout.getPanel(\"sampleTreePanel\");\n","tp.addColumn(columnName, \"numeric\", display, 0);\n","TreePanelColumn tpc2 = tp.getColumn(columnName);\n","tpc2.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc2.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html3"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
163|1749192677641|save-action|colorTEST.ami|6/06/2025 2:51:17|PoOmQzX0b62BJfUOZLcp|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
164|1749193565440|editmode-toggled|colorTEST.ami|6/06/2025 3:06:05|uMc074kXF8IgEMPkiBCH|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","soi":true,"style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"v":[{"k":"a","v":"a"},{"k":"ab","v":"ab"},{"k":"abc","v":"abc"},{"k":"aaple","v":"aaple"}],"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
165|1750209276255|timer|colorTEST.ami|6/17/2025 21:14:36|1L8ed6g7MaHJqCSSclPo|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _COLUMN AS EXECUTE SELECT * FROM __COLUMN WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"TableName","tp":"String"},{"nm":"ColumnName","tp":"String"},{"nm":"DataType","tp":"String"},{"nm":"Options","tp":"String"},{"nm":"NoNull","tp":"Boolean"},{"nm":"Position","tp":"Integer"},{"nm":"DefinedBy","tp":"String"}],"nm":"_COLUMN","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__COLUMN","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"Blank1","pos":1,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_COLUMN","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__COLUMN","dmtbid":["_COLUMN"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_COLUMN","dmadn":"__COLUMN","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_COLUMN"},"upid":"Chart1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
166|1750209452973|save-action|colorTEST.ami|6/17/2025 21:17:32|NKqjZkL0hWiX3SSsUByW|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Blank1","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
167|1750209473114|save-action|colorTEST.ami|6/17/2025 21:17:53|NKqjZkL0hWiX3SSsUByW|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Series","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
168|1750751234468|save-action|colorTEST.ami|6/24/2025 3:47:14|qoPFO0k8obEr1RsOQQmD|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
169|1750850728308|timer|colorTEST.ami|6/25/2025 7:25:28|9rIQDHeF1rcIXITfyxOt|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"Blank1","pos":2,"stateDflt":"flt","title":"Window - 2","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
170|1751598600039|timer|colorTEST.ami|7/03/2025 23:10:00|f0EFSns8K77rCqvb2vKm|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"callbacks":{"entries":[{"amiscript":"session.log(123)","linkedVariables":[],"name":"onKey"}]},"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
171|1751892320268|save-action|colorTEST.ami|7/07/2025 8:45:20|5fG2NOCnHiLZzXBwlbwl|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
172|1751893148648|timer|colorTEST.ami|7/07/2025 8:59:08|5fG2NOCnHiLZzXBwlbwl|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"callbacks":{"entries":[{"amiscript":["create table tmp (Price String , OrdType String  , Side String);\n","insert into tmp values(\"abc\",\"abc\",\"abc\");\n","insert into tmp values(\"abc\",\"abc\",\"abc\");\n","\n","insert into tmp values(\"abc\",\"abc\",\"abc\");\n","insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");insert into tmp values(\"abc\",\"abc\",\"abc\");"],"linkedVariables":[],"name":"onKey","schema":{"tbl":[{"cols":[{"nm":"Price","tp":"String"},{"nm":"OrdType","tp":"String"},{"nm":"Side","tp":"String"}],"nm":"tmp","oc":"ask"}]}}]},"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
173|1751987160863|timer|colorTEST.ami|7/08/2025 11:06:00|PN7jNZPEnOYcmzgZIC2p|{"layouts":[{"data":{"includeFiles":[],"metadata":{"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
174|1752145720666|timer|colorTEST.ami|7/10/2025 7:08:40|bFijfyZSsEZxY6LF590Y|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{ int foo(){\n","  return 2;\n","};\n","\n","string foo2(){\n","  return \"x\";\n","};\n","}"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
175|1752208646541|save-action|colorTEST.ami|7/11/2025 0:37:26|GrbndfNzYgE4rRB2UIJr|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  int a(int x){\n","    return 2;\n","  };\n","  \n","  int b(int y){\n","    return 3;\n","  };\n","  \n","  String c(string x){\n","    return \"2\";\n","  }\n","}"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
176|1752470657663|timer|colorTEST.ami|7/14/2025 1:24:17|9YnZkKx7XW5qQHoVDvUN|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  \n","  \n"," \n","  String c(string x){\n","    return \"2\";\n","  };\n","  \n","   int b(int y){\n","    return 3;\n","  };\n","  \n","  int a(int x){\n","    return 2;\n","  };\n","  \n","}"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
177|1752475214613|timer|colorTEST.ami|7/14/2025 2:40:14|9YnZkKx7XW5qQHoVDvUN|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String c(string x){\n","    return \"2\";\n","  };\n","  \n","   int b(int y){\n","     String x = \"abc\";\n","     String y = \"abc\";\n","    return 3;\n","  };\n","  \n","  int a(int x){\n","    return 2;\n","  };\n","  \n","}"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
178|1752551915762|save-action|colorTEST.ami|7/14/2025 23:58:35|ufNZpskq6s4cjtOoktrF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  int a(int x){\n","    return 2;\n","  };\n","  \n","  int getSync(){\n","      List tables = new List();\n","    tables.add(\"riskInstrumentInputAssumptionsAQON\");\n","    tables.add(\"riskInstrumentInputAssumptionsAQOFF\");\n","\n","    Table inst = USE ds=\"AMI\" EXECUTE SELECT instruments.baseAsset AS symbol\n","        FROM instruments LEFT ONLY JOIN ${tables.get(0)}\n","        ON instruments.baseAsset == ${tables.get(0)}.I\n","        WHERE instruments.instrumentType==\"PERPETUAL_FUTURE\";\n","    List rows = inst.getRows();\n","    if (null == rows || 0 == rows.size()) return 0;\n","    String values = \"VALUES\";\n","    for (Row row : rows) {\n","        String sym = row.getValue(\"symbol\");\n","        values += \"(\\\"${sym}\\\",\\\"${sym}\\\", 0.0, 0.0),\";\n","    }\n","    return 1l;\n","  }\n"," \n","}"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
179|1752552553800|save-action|colorTEST.ami|7/15/2025 0:09:13|ufNZpskq6s4cjtOoktrF|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["Integer alterShockDisplayTables(Map tableConfigs){\n","   for (String tbl : tableConfigs.getKeys()) {\n","        Map conf = tableConfigs.get(tbl);\n","        String alterCol = (String)(conf.get(\"alterColumnDefinition\"));\n","        if (strIsnt(alterCol)) continue;\n","        logInfo(\"ALTERING TABLE ${tbl} WITH ALTER COLUMN ${alterCol}\");\n","        ALTER TABLE ${tbl} ${alterCol};\n","    }\n","    return 1;\n","};\n","\n","  Integer checkForInstrumentChanges(){\n","    List tables = new List();\n","    tables.add(\"riskInstrumentInputAssumptionsAQON\");\n","    tables.add(\"riskInstrumentInputAssumptionsAQOFF\");\n","\n","    Table inst = USE ds=\"AMI\" EXECUTE SELECT instruments.baseAsset AS symbol\n","        FROM instruments LEFT ONLY JOIN ${tables.get(0)}\n","        ON instruments.baseAsset == ${tables.get(0)}.I\n","        WHERE instruments.instrumentType==\"PERPETUAL_FUTURE\";\n","    List rows = inst.getRows();\n","    if (null == rows || 0 == rows.size()) return 0;\n","    String values = \"VALUES\";\n","    for (Row row : rows) {\n","        String sym = row.getValue(\"symbol\");\n","        values += \"(\\\"${sym}\\\",\\\"${sym}\\\", 0.0, 0.0),\";\n","    }\n","    values = values.beforeLast(\",\", false) + \";\";\n","    if (null == values) return;\n","\n","    for (String targetTable : tables) {\n","        String stmnt = \"INSERT INTO ${targetTable} (I, symbol, thirtyADQNotional, lspCapacityNotional) \" + values;\n","        USE ds=\"AMI\" EXECUTE ${stmnt};\n","    }\n","    return 1;\n","};\n","\n","  Table fetchTableauHyper(String tableauServerDS,String hyperDS,String shellDS,String tableauSiteName,String tableauDataSourceName){\n"," \n","  Map credentials = new Map();\n","  Map site = new Map();\n","  Map params = new Map();\n"," \n","  String user = use ds=AMI EXECUTE SELECT US FROM __DATASOURCE WHERE NM == \"${tableauServerDS}\";\n","  String password = use ds=AMI EXECUTE SELECT strDecrypt(Password) FROM __DATASOURCE WHERE NM == \"${tableauServerDS}\";\n"," \n","  site.put(\"contentUrl\", tableauSiteName);\n","  credentials.put(\"name\", user);\n","  credentials.put(\"password\", password);\n","  credentials.put(\"site\", site);\n","  params.put(\"credentials\", credentials);\n"," \n","  CREATE TABLE signin,headers AS USE ds=\"${tableauServerDS}\" _method=\"POST\" _urlExtension=\"/auth/signin\" _header_Accept=\"application/json\" _params=\"${params.toJson()}\" _delim=\"||||\" _returnHeaders=\"true\" EXECUTE SELECT * FROM signin;\n"," \n","  String json = select credentials from signin limit 1;\n","  String siteId = jsonExtract(json, \"site.id\");\n","  String token = jsonExtract(json, \"token\");\n"," \n","  Map headers = new Map();\n","  headers.put(\"X-Tableau-Auth\", token);\n","  headers.put(\"Accept\", \"application/json\");\n"," \n","  CREATE TABLE getDataSources,headers AS USE ds=\"${tableauServerDS}\" _method=\"GET\" _urlExtension=\"/sites/${siteId}/datasources\" _header_Accept=\"application/json\" _headers=\"${headers.toJson()}\" _param_pageSize=\"1000\" _delim=\"||||\" _returnHeaders=\"true\" EXECUTE SELECT * FROM getDataSources;\n"," \n","  String dataSourcesJson = select datasources from getDataSources;\n"," \n","  Map dataSourceMap = parseJson(dataSourcesJson);\n"," \n","  List dataSourceList = dataSourceMap.get(\"datasource\");\n"," \n","  String dataSourceId = \"\";\n","  for(int i = 0; i < dataSourceList.size(); i++) {\n","    Map dataSource = dataSourceList.get(i);\n","    if(dataSource.get(\"name\") == tableauDataSourceName) {\n","      dataSourceId = dataSource.get(\"id\");\n","    }\n","  }\n"," \n","  String tableauServer = use ds=AMI EXECUTE SELECT UR FROM __DATASOURCE WHERE NM == \"${tableauServerDS}\";\n"," \n","  String curlCommand = \"curl -v -H 'X-Tableau-Auth: ${token}' -o ${tableauDataSourceName}.tdsx ${tableauServer}/sites/${siteId}/datasources/${dataSourceId}/content?includeExtract=true\";\n"," \n","  String unzipCommand = \"unzip -o -d ${tableauDataSourceName} ${tableauDataSourceName}.tdsx\";\n"," \n","  CREATE TABLE stdoutCurl,stderrCurl,exitCodeCurl AS USE ds=\"${shellDS}\" _cmd=\"${curlCommand}\" EXECUTE SELECT * FROM cmd;\n"," \n","  CREATE TABLE stdoutZip,stderrZip,exitCodeZip AS USE ds=\"${shellDS}\" _cmd=\"${unzipCommand}\" EXECUTE SELECT * FROM cmd;\n"," \n","  List zipOutput = select line from stdoutZip;\n"," \n","  List hyperFiles = new List();\n"," \n","  for(int i = 0; i < zipOutput.size(); i++) {\n","    String line = zipOutput.get(i);\n","    if(line =~ \".hyper\") {\n","      List lineTokens = line.split(\" \");\n","      for(int j = 0; j < lineTokens.size(); j++) {\n","        if(lineTokens.get(j) =~ \".hyper$\") {\n","          hyperFiles.add(lineTokens.get(j));\n","        }\n","      }\n","    }\n"," \n","  }\n","  String dir = use ds=AMI EXECUTE SELECT UR FROM __DATASOURCE WHERE NM == \"${shellDS}\";\n"," \n","  String fullPathToHyper = dir + \"/\" + hyperFiles.get(0);\n"," \n","  CREATE TABLE HyperOutput as use ds=${hyperDS} _file=\"${fullPathToHyper}\" EXECUTE SELECT * FROM \"Extract\".\"Extract\";\n"," \n","  Table returnTable = select * from HyperOutput;\n"," \n","  return returnTable;\n"," \n","}\n",";\n","\n","  Integer foo(Integer a){return 0;};\n","\n","  Integer hello(Integer a,Integer b){return a+b;};\n","\n","  Integer hello2(Integer a,Integer b){return a+b;};\n","\n","  Integer hello3(Integer a,Integer b){return a+b;};\n","\n","  Integer initAndSetupConfigs(){\n","    syncScenarios();\n","    syncInitRiskConfigurations();\n","    syncActiveInstrumentAssumptions();\n","    checkForInstrumentChanges();\n","    return 1;\n","};\n","\n","  boolean isScenarioDisabled(Map scenario,String callerName){\n","    String name = scenario.get(\"scenarioName\");\n","    if (\"DISABLED\" == name) {\n","       logInfo(\"Scenario is disabled, skipping timer task ${callerName}\");\n","       return true;\n","    }\n","    return false;\n","};\n","\n","  Integer loadInstrumentAssumptions(Map instrumentAssumptions,String tableName){\n","    Table instAssumptions = USE DS=\"AMI\" EXECUTE SELECT * FROM ${tableName};\n","    for (Row row : instAssumptions.getRows()) {\n","        Map rowMap = new Map();\n","        rowMap.put(\"thirtyADQNotional\", row.getValue(\"thirtyADQNotional\"));\n","        rowMap.put(\"lspCapacityNotional\", row.getValue(\"lspCapacityNotional\"));\n","        instrumentAssumptions.put(row.getValue(\"symbol\"), rowMap);\n","    }\n","    return 1;\n","};\n","\n","  Integer syncActiveInstrumentAssumptions(){\n","    CREATE TABLE risk_ins_assum AS USE ds=\"StarbasePostgresDB\" EXECUTE SELECT * FROM risk_instrument_input_assumptions;\n","    Table ins = SELECT * FROM risk_ins_assum;\n","    List rows = ins.getRows();\n","    if (null == rows || rows.size() == 0) return 0;\n","    List vals = new List();\n","    vals.add(\"\");\n","    vals.add(\"\");\n","    for (Row row : rows) {\n","        String scenarioName = row.getValue(\"scenario_name\");\n","        String symbol = row.getValue(\"symbol\");\n","        Double thirtyAdq = row.getValue(\"thirty_adq_notional\");\n","        Double lspCap = row.getValue(\"lsp_capacity_notional\");\n","        String val = \"(\\\"${symbol}\\\",\\\"${symbol}\\\",${thirtyAdq},${lspCap}),\";\n","        if (\"ALIQ_ON\" == scenarioName) {\n","            vals.set(0,vals.get(0) + val);\n","        } else {\n","            vals.set(1,vals.get(1) + val);\n","        }\n","    }\n","    String v = vals.get(0);\n","    if (strIs(v)) {\n","        v = v.beforeLast(\",\", false) + \";\";\n","        INSERT INTO riskInstrumentInputAssumptionsAQON VALUES ${v};\n","    }\n","    v = vals.get(1);\n","    if (strIs(v)) {\n","        v = v.beforeLast(\",\", false) + \";\";\n","        INSERT INTO riskInstrumentInputAssumptionsAQOFF VALUES ${v};\n","    }\n","    return 1;\n","};\n","\n","  Integer syncInitRiskConfigurations(){\n","    CREATE TABLE risk_configs_ins AS USE ds=\"StarbasePostgresDB\" EXECUTE SELECT * FROM risk_configuration_input_assumptions;\n","    Table configs = SELECT * FROM risk_configs_ins;\n","    List configRows = configs.getRows();\n","    if (null == configRows || configRows.size() == 0) return 0;\n","    List vals = new List();\n","    vals.add(\"\");\n","    vals.add(\"\");\n","    for (Row r : configRows) {\n","        String scenarioName = r.getValue(\"scenario_name\");\n","        String val = \"(\\\"default\\\",${(Double)(r.getValue(\"adq_breach\"))},${(Double)(r.getValue(\"adq_liq_pcnt_of_adq_breach\"))},\n","            ${(Double)(r.getValue(\"adq_liq_pcnt_of_adq_not_breach\"))},${(Double)(r.getValue(\"lsp_positive_equity\"))},${(Double)(r.getValue(\"lsp_negative_equity\"))},\n","            ${(Double)(r.getValue(\"lsp_locked_cap_notional\"))},${(Double)(r.getValue(\"insurance_fund_contrib\"))},${(Double)(r.getValue(\"insurance_absorb_pcnt\"))}),\";\n","        if (\"ALIQ_ON\" == scenarioName) {\n","            vals.set(0,vals.get(0) + val);\n","        } else {\n","            vals.set(1,vals.get(1) + val);\n","        }\n","    }\n","    String v = vals.get(0);\n","    if (strIs(v)) {\n","        v = v.beforeLast(\",\", false) + \";\";\n","        INSERT INTO riskConfigurationInputAssumptionsAQON (I,adqBreach,autoLiqPcntOfADQBreach,autoLiqPcntOfADQNotBreach,lspPositiveEquity,lspNegativeEquity,lspLockedCapNotional,insuranceFundContrib,insuranceAbsorbPcnt)\n","        VALUES ${v};\n","    }\n","        v = vals.get(1);\n","    if (strIs(v)) {\n","        v = v.beforeLast(\",\", false) + \";\";\n","        INSERT INTO riskConfigurationInputAssumptionsAQOFF (I,adqBreach,autoLiqPcntOfADQBreach,autoLiqPcntOfADQNotBreach,lspPositiveEquity,lspNegativeEquity,lspLockedCapNotional,insuranceFundContrib,insuranceAbsorbPcnt)\n","        VALUES ${v};\n","    }\n","    return 1;\n","};\n","\n","  Integer syncScenarios(){\n","    CREATE TABLE scenario_tmp AS USE ds=\"StarbasePostgresDB\" EXECUTE SELECT * FROM risk_scenarios;\n","    Table sc = SELECT * FROM scenario_tmp;\n","    List rows = sc.getRows();\n","    for (Row r : rows) {\n","        String name = r.getValue(\"scenario_name\");\n","        INSERT INTO scenarios (active,scenarioName,activeConfigInputsAssumptionsTable,activeInstrumentAssumptionsTable, activeConfigCMLIQPercentsTable,I)\n","        VALUES(r.getValue(\"active\"),name,r.getValue(\"config_inputs_assumptions_table\"),r.getValue(\"instrument_inputs_assumptions_table\"),r.getValue(\"config_cm_liq_percents_table\"),name);\n","    }\n","    return 1;\n","};"],"callbacks":{"entries":[{"amiscript":["CREATE PUBLIC TABLE IRSRates(Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double);\n","\n","CREATE PUBLIC TABLE IRSRisks(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double) ;\n","CREATE PUBLIC TABLE IRSPnL(Name String BITMAP, Currency String BITMAP, OneYear double, TwoYear double, ThreeYear double, FiveYear double, TenYear double, TwentyYear double, Total double);\n","\n","\n","//CREATE TRIGGER IRSPnL_join_trigger OFTYPE JOIN ON IRSRates, IRSRisks, IRSPnL USE type=\"RIGHT\" on=\"IRSRates.Currency == IRSRisks.Currency\" selects=\"Currency=IRSRates.Currency, Name=IRSRisks.Name, OneYear=IRSRisks.OneYear*IRSRates.OneYear/1000.0, TwoYear=IRSRisks.TwoYear*IRSRates.TwoYear/1000.0, ThreeYear=IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0, FiveYear=IRSRisks.FiveYear*IRSRates.FiveYear/1000.0, TenYear=IRSRisks.TenYear*IRSRates.TenYear/1000.0, TwentyYear=IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0, Total=IRSRisks.OneYear*IRSRates.OneYear/1000.0 + IRSRisks.TwoYear*IRSRates.TwoYear/1000.0 + IRSRisks.ThreeYear*IRSRates.ThreeYear/1000.0 + IRSRisks.FiveYear*IRSRates.FiveYear/1000.0 + IRSRisks.TenYear*IRSRates.TenYear/1000.0 + IRSRisks.TwentyYear*IRSRates.TwentyYear/1000.0\";\n"],"linkedVariables":[],"name":"onAmiJsCallbackInTitlebar"},{"amiscript":"CREATE TABLE test(id int, id2 int);","linkedVariables":[],"name":"onAsyncCommandResponse","schema":{"tbl":[{"cols":[{"nm":"id","tp":"Integer"},{"nm":"id2","tp":"Integer"}],"nm":"test","oc":"ask"}]}}]},"customPrefsImportMode":"reject","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE _PROPERTY AS EXECUTE SELECT * FROM __PROPERTY WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"PropertyName","tp":"String"},{"nm":"PropertyValue","tp":"String"}],"nm":"_PROPERTY","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"__PROPERTY","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":463,"hidden":false,"leftDflt":160,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Custom Table Column","topDflt":180,"widthDflt":956,"zindexDflt":3},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":80,"portlet":"__PROPERTY","pos":1,"stateDflt":"flt","title":"Window","topDflt":100,"widthDflt":960,"zindexDflt":3}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"sampleTablePanel","child2":"tableCustomColumn","dir":"v","locked":false,"offset":0.28765,"upid":"Div1"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"__PROPERTY","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"_PROPERTY","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":"1"},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":"1"}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"__PROPERTY","dmtbid":["_PROPERTY"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"_PROPERTY","dmadn":"__PROPERTY","id":0,"layers":[{"editorType":"2dLine","id":4,"lineColor":{"type":"const","value":"\"#1338BE\""},"lineSize":"1","mBorderColor":{"type":"const","value":"\"#1338BE\""},"mBorderSize":"1","mColor":{"type":"const","value":"\"#1338BE\""},"mHeight":"3","mShape":"\"circle\"","mWidth":"3","seriesName":"Layer","tooltip":"\"X: \"+formatNumber(1, \"#.000\", \"\")+\"<BR>Y: \"+formatNumber(1, \"#.000\", \"\")","xPos":"1","yPos":"1"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#404040ef","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"_PROPERTY"},"upid":"__PROPERTY"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Symbol","fw":false,"id":"Symbol","location":0,"tl":"Symbol","tp":"text","width":53},{"fm":"Quantity","fw":false,"id":"Quantity","location":1,"pc":0,"tl":"Quantity","tp":"numeric","width":58},{"id":"D","width":100}],"amiPanelId":"sampleTablePanel","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Sample","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"datamodel","dmtbid":["Sample"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Sample"},"upid":"datamodel","varTypes":{"Quantity":"Long","Symbol":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"tableCustomColumn","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n","String columnName = fp.getFieldValue(\"columnNameText\");\n","String display = fp.getFieldValue(\"displayText\");\n","String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n","String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n","\n","TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n","tp.addColumn(columnName, \"numeric\");\n","TablePanelColumn tpc = tp.getColumn(columnName);\n","tpc.getFormula(\"display\").setAmiScript(display);\n","tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n","tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"],"linkedVariables":[],"name":"onChange"}]},"heightPx":20,"l":"Apply","leftPosPx":440,"n":"applyButton","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":60,"widthPx":200,"zidx":2},{"heightPx":20,"l":"Background Color","leftPosPx":140,"n":"backgroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":140,"widthPx":200,"zidx":5},{"heightPx":20,"l":"Column Name","leftPosPx":140,"n":"columnNameText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":200,"zidx":3},{"heightPx":20,"l":"Display","leftPosPx":140,"n":"displayText","style":{"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":60,"widthPx":200,"zidx":1},{"heightPx":20,"l":"Foreground Color","leftPosPx":140,"n":"foregroundColorPicker","style":{"pt":"LAYOUT_DEFAULT"},"t":"colorpicker","topPosPx":100,"widthPx":200,"zidx":4}],"snap":20,"upid":"Html1"}}]},"location":"colorTEST.ami","type":"CLOUD"}],"rootLayout":{"location":"colorTEST.ami","type":"CLOUD"}}
180|1752758088969|save-action|untitled.ami|7/17/2025 9:14:48|nC2MjGRLx0DBkAGPIhJ9|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":60,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PNL2","child2":"PNL1","dir":"h","locked":false,"offset":0.3992,"upid":"Div1"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"galaxy","fw":false,"id":"galaxy","location":0,"tl":"Galaxy","tp":"text","width":100},{"fm":"totalEnergy","fw":false,"id":"totalEnergy","location":1,"tl":"total Energy","tp":"numeric","width":84},{"fm":"planet","fw":false,"id":"planet","location":2,"tl":"Planet","tp":"text","width":100},{"fm":"system","fw":false,"id":"system","location":3,"tl":"System","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"galaxyView","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:galaxyView"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"galaxyView"},"upid":"Table1","varTypes":{"galaxy":"String","planet":"String","system":"String","totalEnergy":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"planet","fw":false,"id":"planet","location":0,"tl":"Planet","tp":"text","width":100},{"fm":"distance","fw":false,"id":"distance","location":1,"pc":0,"tl":"Distance","tp":"numeric","width":80},{"fm":"energy","fw":false,"id":"energy","location":2,"tl":"Energy","tp":"numeric","width":80},{"fm":"galaxy","fw":false,"id":"galaxy","location":3,"tl":"Galaxy","tp":"text","width":100},{"fm":"system","fw":false,"id":"system","location":4,"tl":"System","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"SignalReceiver","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:SignalReceiver"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"SignalReceiver"},"upid":"Table2","varTypes":{"distance":"Integer","energy":"Double","galaxy":"String","planet":"String","system":"String"}}}]},"location":"3Body.ami","type":"CLOUD"}],"rootLayout":{"location":"3Body.ami","type":"CLOUD"}}
181|1752758099014|save-action|3Body.ami|7/17/2025 9:14:59|nC2MjGRLx0DBkAGPIhJ9|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":40,"portlet":"Div1","pos":0,"stateDflt":"flt","title":"Window","topDflt":60,"widthDflt":960,"zindexDflt":1}]}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PNL2","child2":"PNL1","dir":"h","locked":false,"offset":0.3992,"upid":"Div1"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"galaxy","fw":false,"id":"galaxy","location":0,"tl":"Galaxy","tp":"text","width":100},{"fm":"totalEnergy","fw":false,"id":"totalEnergy","location":1,"tl":"total Energy","tp":"numeric","width":84},{"fm":"planet","fw":false,"id":"planet","location":2,"tl":"Planet","tp":"text","width":100},{"fm":"system","fw":false,"id":"system","location":3,"tl":"System","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"galaxyView","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:galaxyView"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"galaxyView"},"upid":"Table1","varTypes":{"galaxy":"String","planet":"String","system":"String","totalEnergy":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"galaxy","fw":false,"id":"galaxy","location":0,"tl":"Galaxy","tp":"text","width":100},{"fm":"system","fw":false,"id":"system","location":1,"tl":"System","tp":"text","width":100},{"fm":"planet","fw":false,"id":"planet","location":2,"tl":"Planet","tp":"text","width":100},{"fm":"distance","fw":false,"id":"distance","location":3,"pc":0,"tl":"Distance","tp":"numeric","width":80},{"fm":"energy","fw":false,"id":"energy","location":4,"tl":"Energy","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"SignalReceiver","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:SignalReceiver"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"SignalReceiver"},"upid":"Table2","varTypes":{"distance":"Integer","energy":"Double","galaxy":"String","planet":"String","system":"String"}}}]},"location":"3Body.ami","type":"CLOUD"}],"rootLayout":{"location":"3Body.ami","type":"CLOUD"}}
182|1752759570355|rebuild-action|untitled.ami|7/17/2025 9:39:30|nC2MjGRLx0DBkAGPIhJ9|{"layouts":[{"data":{"includeFiles":[],"metadata":{"customPrefsImportMode":"reject","dm":{},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"DEFAULT"}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT"},"windows":[{"header":true,"heightDflt":501,"hidden":false,"leftDflt":120,"portlet":"PNL1","pos":0,"stateDflt":"flt","title":"Window","topDflt":140,"widthDflt":960,"zindexDflt":2}]}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"category","fw":false,"id":"category","location":0,"tl":"Category","tp":"text","width":100},{"fm":"customer_id","fw":false,"id":"customer_id","location":1,"tl":"Customer Id","tp":"text","width":100},{"fm":"order_date","fw":false,"id":"order_date","location":2,"tl":"Order Date","tp":"text","width":100},{"fm":"order_id","fw":false,"id":"order_id","location":3,"pc":0,"tl":"Order Id","tp":"numeric","width":80},{"fm":"price","fw":false,"id":"price","location":4,"tl":"Price","tp":"price","width":80},{"fm":"product_id","fw":false,"id":"product_id","location":5,"tl":"Product Id","tp":"text","width":100},{"fm":"quantity","fw":false,"id":"quantity","location":6,"pc":0,"tl":"Quantity","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"orders","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:orders"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"orders"},"upid":"Table1","varTypes":{"category":"String","customer_id":"String","order_date":"String","order_id":"Integer","price":"Double","product_id":"String","quantity":"Integer"}}}]},"location":"untitled.ami","type":null}],"rootLayout":{"location":"untitled.ami","type":null}}
183|1752818300488|save-action|untitled.ami|7/18/2025 1:58:20|7S6AwW7Mb0kkkdkoaVwY|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":2,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":3,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":4,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":5,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":6,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":7,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":8,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":9,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":10,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":11,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":12,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":2,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":3,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":4,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":5,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":6,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":7,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":8,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":9,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":10,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":11,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":12,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
184|1753418067260|timer|ap_demo.ami|7/25/2025 0:34:27|6CXvcmspVQVZdx0nvqjT|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE BusinessLevelData AS EXECUTE SELECT * FROM BusinessLevelData WHERE ${WHERE};\n","}\n"],"defaultDs":"AMI","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Book","tp":"String"},{"nm":"Bundle Group","tp":"String"},{"nm":"Daily Vol $ mm","tp":"Float"},{"nm":"Worst Stress","tp":"Float"},{"nm":"Gamma $","tp":"Float"},{"nm":"Portfolio Vol Contribution %","tp":"Float"},{"nm":"Marginal Vol Contribution %","tp":"Float"},{"nm":"VaR 95% Daily %","tp":"Float"},{"nm":"Marginal Var %","tp":"Float"}],"nm":"BusinessLevelData","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"BusinessLevelData","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"Blank1","pos":2,"stateDflt":"flt","title":"Window","topDflt":220,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amichartgrid","portletConfig":{"amiPanelId":"Chart1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"BusinessLevelData","axisBcnts":[1],"axisConfig":{"B_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":3,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"T","reverse":false,"title":""},"L_0_0":{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"autoMajorValue":true,"autoMaxValue":true,"autoMinValue":true,"autoMinorValue":true,"axisId":2,"fontStyle":"","format":null,"formatType":5,"isGroupOrdered":true,"orientation":"R","reverse":true,"title":""}},"axisLcnts":[1],"axisRcnts":[0],"axisTcnts":[0],"colsCount":1,"dm":[{"dmadn":"BusinessLevelData","dmtbid":["BusinessLevelData"]}],"mdivs":[{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"p":-1,"w":1.0}],"p":-1,"w":1.0},{"mdivs":[{"mdivs":[{"p":-1,"w":1.0}],"p":70,"w":1.0},{"mdivs":[{"p":-1,"w":1.0}],"p":-1,"w":1.0}],"p":70,"w":1.0}],"plotConfig":{"0_0":{"bgColor":"#ffffff","layers":[{"amiStyle":{"pt":"LAYOUT_DEFAULT"},"dmTableName":"BusinessLevelData","dmadn":"BusinessLevelData","id":0,"layers":[{"editorType":"2dAdv","id":4,"seriesName":"Series"}],"name":"Layer","opac":100,"type":"Chart","xAxisId":3,"yAxisId":2}],"plotId":1,"selBoxBorderColor":"#7f7f7f7f","selBoxFillColor":"#40404007","selColor":"#bacbfb6e"}},"rowsCount":1,"titlePnl":{"title":"BusinessLevelData"},"upid":"Chart1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
185|1753418967405|timer|ap_demo.ami|7/25/2025 0:49:27|6CXvcmspVQVZdx0nvqjT|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(\"MSFT\",100),(\"IBM\",200),(\"AAPL\",400);\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2},{"header":true,"heightDflt":501,"hidden":false,"leftDflt":200,"portlet":"Blank1","pos":2,"stateDflt":"flt","title":"Window","topDflt":220,"widthDflt":960,"zindexDflt":4}]}},{"portletBuilderId":"amiblank","portletConfig":{"amiPanelId":"Blank1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"upid":"Blank1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
186|1753422896288|timer|ap_demo.ami|7/25/2025 1:54:56|oxXQJYFdVZ8VOWquQNYD|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Option","fw":false,"id":"Option","location":0,"tl":"Option","tp":"text","width":48},{"id":"D","width":100}],"amiPanelId":"Table1","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"EquitiesPivotOptions","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesPivotOptions","dmtbid":["EquitiesPivotOptions"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPivotOptions"},"upid":"Table4","varTypes":{"Option":"String"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
187|1753436676941|timer|ap_demo.ami|7/25/2025 5:44:36|1GMBXVzzFdnDjNYtMEoc|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE Sample(Symbol String, Quantity Long);\n","  INSERT INTO Sample Values(\"MSFT\",100),(\"IBM\",200),(\"AAPL\",400);\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Symbol","tp":"String"},{"nm":"Quantity","tp":"Long"}],"nm":"Sample","oc":"ask"}]}}]},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
188|1753765537688|timer|ap_demo.ami|7/29/2025 1:05:37|6H506x28tIlAPtIwW3tL|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel1","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
189|1753768606918|timer|ap_demo.ami|7/29/2025 1:56:46|6H506x28tIlAPtIwW3tL|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel1","lower":["datamodel"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
190|1753771902768|timer|ap_demo.ami|7/29/2025 2:51:42|gGhAiXqSz85lrrzwnbgO|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
191|1753774641791|timer|ap_demo.ami|7/29/2025 3:37:21|ZtFYzJVTjeL4EAOVYG9t|{"layouts":[{"data":{"includeFiles":[],"metadata":{"amiScriptMethods":["{\n","  String toSimpleTimeStr(String str) {\n","    Map strMapping = new Map(\"OneMonth\", \"1m\", \"ThreeMonth\", \"3m\", \"SixMonth\", \"6m\", \"NineMonth\", \"9m\", \"OneYear\", \"1Y\", \"TwoYear\", \"2Y\", \"ThreeYear\", \"3Y\", \"FourYear\", \"4Y\",  \"FiveYear\", \"5Y\", \"SevenYear\", \"7Y\", \"TenYear\", \"10Y\", \"FifteenYear\", \"15Y\", \"TwentyYear\", \"20Y\", \"ThirtyYear\", \"30Y\");\n","    return strMapping.get(str);\n","  };\n","  \n","  int toSimpleTimeStrOrder(String str) {\n","    str = strUpper(str);\n","    Map strMapping = new Map(\"ONEMONTH\", 1, \"3M\", 2, \"THREEMONTH\", 2, \"SIXMONTH\", 3, \"NINEMONTH\", 4, \"ONEYEAR\", 5, \"TWOYEAR\", 6, \"THREEYEAR\", 7, \"FOURYEAR\", 8,  \"FIVEYEAR\", 9, \"SEVENYEAR\", 10, \"TENYEAR\", 11, \"FIFTEENYEAR\", 12, \"TWENTYYEAR\", 13, \"THIRTYYEAR\", 14);\n","    return strMapping.get(str);\n","  };\n","  \n","  int sortPM(String pm) {\n","    if (strIndexOf(pm, \"PM\") != -1)\n","      return pm.after(\"PM\", true);\n","    return pm;\n","  };\n","  \n","  int setBreakdownPNL(String name) {\n","    List panelNames = new List(\n","      \"FXPnLPNL\", \n","      \"IRSPnLPNL\", \n","      \"IRSRisksPNL\", \n","      \"FXDV01PnLPNL\", \n","      \"FXDV01RisksPNL\",\n","      \"CommoditiesPnLPNL\", \n","      \"EquitiesPnLPNL\"\n","      );\n","    for (String pnl: panelNames) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.setCurrentWhere(\"Name == \\\"${name}\\\"\");\n","    }\n","    \n","    //Vol\n","    TablePanel tp = layout.getPanel(\"IRVolPnLUSDPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLEURPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"IRVolPnLJPYPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","    tp = layout.getPanel(\"USDIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"USD\\\"\");\n","    tp = layout.getPanel(\"EURIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"EUR\\\"\");\n","    tp = layout.getPanel(\"JPYIRVegaRisksPNL\");\n","    tp.setCurrentWhere(\"Name == \\\"${name}\\\" && Currency==\\\"JPY\\\"\");\n","  };\n","  \n","  string numberDisplay(double d){\n","    return d < 0 ? \"(${abs(d)})\" : d;\n","  };\n","  \n","  string numberDisplay(double d, int precision){\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)})\" : formatDecimal(d, precision);\n","  };\n","  \n","  string numberDisplayPct(double d, int precision){\n","    if (d == null) return \"\";\n","    return d < 0 ? \"(${formatDecimal(abs(d), precision)}%)\" : formatDecimal(d, precision) + \"%\";\n","  };\n","  \n","  string colorDisplay(double d){\n","    return d < 0 ? \"#F30000\" : \"\";\n","  };\n","  \n","  string buildSumAggQuery_mult(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"(sum((double)`${i}`)/1000000.0) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  string buildSumAggQuery(list l){\n","    string query = \"\";\n","    for (string i : l)\n","      query += \"sum((double)`${i}`) as `${i}`,\";\n","    query = strStrip(query, \" \", \",\");\n","    return query;\n","  };\n","  \n","  int formatTablePanels() {\n","    List panels = new List(\"FXDV01PnL\", \"IRSPnL\", \"RatesPnL\");\n","    for (String pnl: panels) {\n","      TablePanel tp = layout.getPanel(pnl);\n","      tp.autosizeAllColumns();\n","      for (String col: tp.getVisibleColumns()) {\n","        TablePanelColumn tpCol = tp.getColumn(col);\n","        tpCol.setHeaderStyle(\"center\");\n","      }\n","        \n","    }\n","    \n","  };\n","}"],"browserTitle":"3forge Website","callbacks":{"entries":[{"amiscript":["List names = use ds=\"AMI\" execute SELECT Name FROM PMCategory GROUP BY Name;\n","session.setValue(\"names\", names);\n","List currencies = use ds=\"AMI\" execute SELECT Currency FROM FX GROUP BY Currency;\n","session.setValue(\"currencies\", currencies); \n","session.setBrowserTitle(\"3Forge Realtime PnL\");"],"linkedVariables":[],"name":"onStartup"}]},"customPrefsImportMode":"reject","customUserMenuTitle":"Tools","dm":{"dms":[{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from CommRawRisk limit 1;\n","CREATE TABLE CommPivotOptions (Option string);\n","insert into CommPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into CommPivotOptions values (colName);\n","}\n","DELETE FROM CommPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"CommPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"ComdtyHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"ComdtyGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","CREATE TABLE CommoditiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, PriceUSD, DeltaTMinusOne FROM Commodities;\n","\n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from CommRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE CommoditiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE CommoditiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as CommDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from CommoditiesPnL as C join CommoditiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE CommoditiesPnL as select Name, sum(Size) as Size, sum(CommDelta) as CommDelta, sum(PnL) as PnL from CommoditiesPnL group by Name;\n","INSERT INTO CommoditiesPnL from select \"Total\", sum(Size), sum(CommDelta), sum(PnL) from CommoditiesPnL;\n","\n","drop table CommoditiesTicker, `FEED:Commodities`, `FEED:CommRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"CommDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"CommoditiesPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"CommsAgg","lower":[],"queryMode":"startup","subscribe":["FEED:CommRawRisk","FEED:Commodities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"EquitiesHtml\");\n","string pivotGroup = \"Portfolio Manager\";\n","if (fp != null)\n","  pivotGroup = fp.getFieldValue(\"EquitiesGroupBy\");\n","if (!strIs(pivotGroup))\n","  pivotGroup = \"Portfolio Manager\";\n","  \n","String whereClause = session.getValue(\"PMFilter\");\n","table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from EquitiesRawRisk;\n","if (strIs(whereClause))\n","  rawRisk = select * from rawRisk where ${whereClause};\n","rawRisk = select Ticker as Name, * from rawRisk;\n","\n","CREATE TABLE EquitiesTicker AS USE ds=\"AMI\" execute SELECT Ticker, Currency, Price, PriceUSD, DeltaTMinusOne FROM Equities;\n","CREATE TABLE EquitiesPnL AS SELECT `${pivotGroup}`, sum(amount) as Size, Name from rawRisk group by `${pivotGroup}`, Name;\n","\n","CREATE TABLE EquitiesPnL as select C.`${pivotGroup}` as Name, C.Size as Size, C.Size*T.PriceUSD/100000.0 as EquityDelta, C.Size*T.PriceUSD*T.DeltaTMinusOne/1000.0 as PnL from EquitiesPnL as C join EquitiesTicker as T on C.Name == T.Ticker;\n","CREATE TABLE EquitiesPnL as select Name, sum(Size) as Size, sum(EquityDelta) as EquityDelta, sum(PnL) as PnL from EquitiesPnL group by Name;\n","INSERT INTO EquitiesPnL from select \"Total\", sum(Size), sum(EquityDelta), sum(PnL) from EquitiesPnL;\n","\n","drop table EquitiesTicker, `FEED:Equities`, `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"},{"nm":"Size","tp":"Integer"},{"nm":"EquityDelta","tp":"Double"},{"nm":"PnL","tp":"Double"}],"nm":"EquitiesPnL","oc":"apply"}]}}]},"datasources":["AMI"],"lbl":"EquitiesAgg","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk","FEED:Equities"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from EquitiesRawRisk limit 1;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","insert into EquitiesPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName != \"amount\" && colName != \"Portfolio Manager\")\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Portfolio\", \"Sub Strategy\", \"Underlying Currency\");\n","drop table `FEED:EquitiesRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"EquitiesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:EquitiesRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, *  from FXDV01RawRisk WHERE strTrim(positionType) == \"Rate Swap\";\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  list names = select `${pivotGroupX}` from rawRisk group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXDV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from rawRisk  group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","  \n","  CREATE TABLE xCcy as use ds=\"AMI\" execute select * from XccyRates;\n","  CREATE TABLE temp_FXDV01PnL as select f.`${pivotGroupY}` AS `groupingY`, f.`${pivotGroupX}` as `${pivotGroupX}`, x.Currency as Currency, x.OneMonth*`1M`/1000.0 as `1M`, x.ThreeMonth*`3M`/1000.0 as `3M`, x.SixMonth*`6M`/1000.0 as `6M`, x.OneYear*`12M`/1000.0 as `12M`, x.ThreeYear*`3Y`/1000.0 as `3Y`, x.FiveYear*`5Y`/1000.0 as `5Y` from FXDV01Agg as f join xCcy as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`1M`) as `1M`, sum(`3M`) as `3M`, sum(`6M`) as `6M`, sum(`12M`) as `12M`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  drop table `FEED:XccyRates`, `FEED:FXDV01RawRisk`, xCcy, FXDV01Agg;\n","  list periods = new list(\"1M\", \"3M\", \"6M\", \"12M\", \"3Y\", \"5Y\");\n","  CREATE TABLE FXDV01PnL (${tableCols});\n","  INSERT INTO FXDV01PnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO FXDV01PnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXDV01PnL;\n","    UPDATE FXDV01PnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  // // DROP TABLE temp_FXDV01PnL;\n","  UPDATE FXDV01PnL SET Total = ${strIs(colSum) ? colSum : 0};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXFV01PnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"Sub Strategy","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"5Y","tp":"Float"},{"nm":"D","tp":"Long"},{"nm":"Settlement Currency","tp":"String"},{"nm":"3Y","tp":"Float"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"12M","tp":"Float"},{"nm":"Name","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"6M","tp":"Float"},{"nm":"Total","tp":"Float"},{"nm":"Strategy","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"3M","tp":"Float"},{"nm":"1M","tp":"Float"}],"nm":"FEED:FXDV01RawRisk","oc":"ask"},{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"SixMonth","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneMonth","tp":"Double"},{"nm":"ThreeMonth","tp":"Double"}],"nm":"FEED:XccyRates","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXDV01PnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:FXDV01RawRisk","FEED:XccyRates"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXRawRisk limit 1;\n","CREATE TABLE FXPivotOptions (Option string);\n","insert into FXPivotOptions values (\"Portfolio Manager\");\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Name\" || colName == \"Portfolio Manager\")\n","    continue;\n","  if (colName == \"Total\")\n","    break;\n","  insert into FXPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXRawRisk`;"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"FXPivotOptions","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"FXHtml\");\n","  string pivotGroup = fp.getFieldValue(\"FXGroupBy\");\n","  if (!strIs(pivotGroup))\n","    pivotGroup = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from FXRawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  \n","  list names = select `${pivotGroup}` from rawRisk group by `${pivotGroup}`;\n","  String tableCols = \"Ccy String, Total double\";\n","  String insertCols = \"(Ccy\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE FXPnL (${tableCols});\n","  INSERT INTO FXPnL (Ccy) VALUES (\"Total\");\n","  CREATE TABLE FXDelta (${tableCols});\n","  INSERT INTO FXDelta (Ccy) VALUES (\"Total\");\n","  List currencies;\n","  if (strIs(whereClause))\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL where ${whereClause} group by Currency;\n","  else\n","    currencies = use ds=\"AMI\" execute select Currency from FXPnL group by Currency;\n","  \n","  string sumDelta = buildSumAggQuery_mult(currencies);\n","  if (!strIs(sumDelta)) {\n","    return;\n","  }\n","  // need to create own FXDelta table\n","  CREATE TABLE FXAgg as use ds=\"AMI\" execute select `${pivotGroup}`, ${sumDelta} from FXRawRisk where Name != \"Total\" group by `${pivotGroup}`;\n","  CREATE TABLE temp_FXDelta (currency string, name string, delta double);\n","  table t = select * from FXAgg;\n","  for (row r : t){\n","    for (String s : currencies){\n","      Double o = r.get(s);\n","      insert into temp_FXDelta values (s, r.get(pivotGroup), o);\n","    }\n","  }\n","  DROP TABLE FXAgg;\n","  CREATE TABLE temp_FXPnL as use ds=\"AMI\" execute select * from FX;\n","  CREATE TABLE temp_FXPnL as select f.Currency as Currency, d.name as Name, noNull(f.DeltaTMinusOne*d.delta*100.0, 0) as PnL from temp_FXPnL as f join temp_FXDelta as d on f.Currency == d.currency;\n","  \n","  for (String currency: currencies) {\n","    String insertStrPnL = \"\";\n","    String insertStrDelta = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT PnL FROM temp_FXPnL WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","      double valueDelta = SELECT delta from temp_FXDelta WHERE name == \"${name}\" AND currency == \"${currency}\";\n","      insertStrDelta += \"${valueDelta == null ? \"null\" : valueDelta},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrPnL, \",\", true) :  \"\\\"${currency}\\\"\";\n","    INSERT INTO FXPnL ${insertCols} VALUES (${insertStrPnL});\n","    insertStrDelta = strIs(insertStrDelta) ? \"\\\"${currency}\\\", \" + strBeforeLast(insertStrDelta, \",\", true) : \"\\\"${currency}\\\"\";\n","    INSERT INTO FXDelta ${insertCols} VALUES (${insertStrDelta});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM FXPnL;\n","    UPDATE FXPnL SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","    value = SELECT SUM(`${name}`) FROM FXDelta;\n","    UPDATE FXDelta SET `${name}`=${noNull(value, \"null\")} WHERE Ccy == \"Total\";\n","  }\n","  // double totalSum = SELECT SUM(Total) FROM FXPnL;\n","  // UPDATE FXPnL SET Total=${noNull(totalSum, \"null\")} WHERE Ccy == \"Total\";\n","  UPDATE FXPnL SET Total = ${colSum};\n","  UPDATE FXDelta SET Total = ${colSum};\n","  DROP TABLE `FEED:FX`, `FEED:FXRawRisk`, temp_FXPnL, temp_FXDelta;\n","}"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXDelta","oc":"apply"},{"cols":[{"nm":"Ccy","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"PM9","tp":"Double"},{"nm":"PM10","tp":"Double"},{"nm":"PM8","tp":"Double"},{"nm":"PM2","tp":"Double"},{"nm":"PM5","tp":"Double"},{"nm":"PM3","tp":"Double"},{"nm":"PM1","tp":"Double"},{"nm":"PM11","tp":"Double"},{"nm":"PM4","tp":"Double"},{"nm":"PM6","tp":"Double"},{"nm":"PM7","tp":"Double"}],"nm":"FXPnL","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"FXPnL\");\n","// tp.autosizeAllColumns();\n","// tp = layout.getPanel(\"FXDelta\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Spot","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"DeltaTMinusOne","tp":"Double"}],"nm":"FEED:FX","oc":"ask"},{"cols":[{"nm":"CHF","tp":"String"},{"nm":"A","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"CLP","tp":"String"},{"nm":"ZAR","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"INR","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"CNY","tp":"String"},{"nm":"THB","tp":"String"},{"nm":"AUD","tp":"String"},{"nm":"KRW","tp":"String"},{"nm":"JPY","tp":"String"},{"nm":"PLN","tp":"String"},{"nm":"GBP","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"IDR","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"HUF","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"HKD","tp":"String"},{"nm":"TWD","tp":"String"},{"nm":"EUR","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"USD","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"CZK","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"Country","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"NZD","tp":"String"},{"nm":"CNH","tp":"String"},{"nm":"BRL","tp":"String"}],"nm":"FEED:FXRawRisk","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"FXPnL","lower":[],"queryMode":"startup","subscribe":["FEED:FX","FEED:FXRawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","  \n","  String whereClause = session.getValue(\"PMFilter\");\n","  table rawRisk = use ds=\"AMI\" execute select Name as Ticker, `Portfolio Manager` as Name, * from DV01RawRisk;\n","  if (strIs(whereClause))\n","    rawRisk = select * from rawRisk where ${whereClause};\n","  rawRisk = select Ticker as Name, * from rawRisk;\n","  // CREATE TABLE rawRisk AS SELECT * FROM rawRisk;\n","  list names = select `${pivotGroupX}` from rawRisk WHERE positionType == \"Rate Swap\" group by `${pivotGroupX}`;\n","  String tableCols = \"Period String, Total double\";\n","  String insertCols = \"(Period\";\n","  String colSum = \"\";\n","  for (String name: names) {\n","    if (!strIs(name)) name = \"null\";\n","    tableCols += \", `${name}` double\";\n","    insertCols += \",`${name}`\";\n","    colSum += \"noNull(`${name}`,0)+\";\n","  }\n","  colSum = strStrip(colSum, \"\", \"+\");\n","  insertCols += \")\";\n","  CREATE TABLE DV01Agg as select `${pivotGroupY}`, `${pivotGroupX}`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `2Y`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from rawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `${pivotGroupX}`, `Settlement Currency`;\n","  CREATE TABLE DV01Agg as select *, (`12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","  \n","  CREATE TABLE IRSRates as use ds=\"AMI\" execute select * from IRSRates;\n","  CREATE TABLE temp_FXDV01PnL as select \n","    f.`${pivotGroupY}` AS `groupingY`, \n","    f.`${pivotGroupX}` as `${pivotGroupX}`, \n","    x.Currency as Currency, \n","    x.OneYear*`12M`/1000.0 as `12M`, \n","    x.TwoYear*`2Y`/1000.0 as `2Y`, \n","    x.ThreeYear*`3Y`/1000.0 as `3Y`, \n","    x.FiveYear*`5Y`/1000.0 as `5Y`, \n","    x.TenYear*`10Y`/1000.0 as `10Y`,\n","    x.TwentyYear*`20Y`/1000.0 as `20Y` \n","  from DV01Agg as f join IRSRates as x on f.`Settlement Currency` == x.Currency;\n","  CREATE TABLE temp_FXDV01PnL as select `groupingY`, `${pivotGroupX}` as Name, sum(`12M`) as `12M`, sum(`2Y`) as `2Y`, sum(`3Y`) as `3Y`, sum(`5Y`) as `5Y`, sum(`10Y`) as `10Y`, sum(`20Y`) as `20Y` from temp_FXDV01PnL group by `groupingY`, `${pivotGroupX}`;\n","  \n","  \n","  list periods = new list(\"12M\", \"2Y\", \"3Y\", \"5Y\", \"10Y\", \"20Y\");\n","  CREATE TABLE IRSPnL (${tableCols});\n","  INSERT INTO IRSPnL (Period) VALUES (\"Total\");\n","  for (String period : periods) {\n","    String insertStrPnL = \"\";\n","    for (String name: names) {\n","      double valuePnL = SELECT SUM(`${period}`) AS `${period}` FROM temp_FXDV01PnL WHERE Name == \"${name}\";\n","      insertStrPnL += \"${valuePnL == null ? \"null\" : valuePnL},\";\n","    }\n","    insertStrPnL = strIs(insertStrPnL) ? \"\\\"${period}\\\", \" + strStrip(insertStrPnL, \"\", \",\") :  \"\\\"${period}\\\"\";\n","    INSERT INTO IRSPnL ${insertCols} VALUES (${insertStrPnL});\n","  }\n","  for (String name: names) {\n","    double value = SELECT SUM(`${name}`) FROM IRSPnL;\n","    UPDATE IRSPnL SET `${name}`=${noNull(value, \"null\")} WHERE Period == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM IRSPnL;\n","  UPDATE IRSPnL SET Total=${noNull(totalSum, \"null\")} WHERE Period == \"Total\";\n","  drop table `FEED:IRSRates`, `FEED:DV01RawRisk`, IRSRates, DV01Agg;\n","  // DROP TABLE temp_FXDV01PnL;\n","  UPDATE IRSPnL SET Total = ${colSum};\n","}"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"}]},"timeout":-1},{"amiscript":["// TablePanel tp = layout.getPanel(\"IRSPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete"}]},"datasources":["AMI"],"lbl":"IRSPnL","lower":[],"queryMode":"startup,visible","subscribe":["FEED:IRSRates","FEED:DV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":"CREATE TABLE PnLFilter as use ds=\"AMI\" execute select Name from PnLSummary;","hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Name","tp":"String"}],"nm":"PnLFilter","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"PMFilter","lower":[],"queryMode":"startup","subscribe":["PANEL:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List rows = new List(\"TotalPnL\", \"FXPnL\", \"RatesPnL\", \"VolPnL\", \"CommoditiesPnL\", \"EquitiesPnL\");\n","  CREATE TABLE PnLBreakdown(Category String, PnL double);\n","  String name = layout.getPanel(\"BreakdownPNL\").getValue(\"PMPODSelect\");\n","  for (String r: rows) {\n","    INSERT INTO PnLBreakdown FROM use ds=\"AMI\" execute SELECT \"${r}\", ${r} FROM PnLSummary WHERE Name == \"${name}\";\n","  }\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"Category","tp":"String"},{"nm":"RatesPnL","tp":"Double"},{"nm":"FXPnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"TotalPnL","tp":"Double"},{"nm":"CommoditiesPnL","tp":"Double"},{"nm":"EquitiesPnL","tp":"Double"},{"nm":"VolPnL","tp":"Double"}],"nm":"FEED:PnLSummary","oc":"ask"},{"cols":[{"nm":"Category","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"PnLBreakdown","oc":"ask"}]},"timeout":-1}]},"datasources":["AMI"],"lbl":"PnLBreakdown","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["table t = use ds=\"AMI\" execute select * from FXDV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t AS SELECT * FROM t;\n","CREATE TABLE EquitiesPivotOptions (Option string);\n","for (string colName : t.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t;\n","  if (count > 1)\n","    insert into EquitiesPivotOptions values (colName);\n","}\n","\n","drop table `FEED:FXDV01RawRisk`;\n","\n","table t2 = use ds=\"AMI\" execute select * from DV01RawRisk WHERE positionType == \"Rate Swap\";\n","CREATE TABLE t2 AS SELECT * FROM t2;\n","CREATE TABLE EquitiesPivotOptions2 (Option string);\n","for (string colName : t2.getColumnNames()){\n","  if (colName == \"Total\")\n","    break;\n","  int count = SELECT countUnique(`${colName}`) FROM t2;\n","  session.log(\"Count: ${count} for ${colName}\");\n","  if (count > 1)\n","    insert into EquitiesPivotOptions2 values (colName);\n","}\n","drop table `FEED:DV01RawRisk`;\n","\n","CREATE TABLE EquitiesPivotOptions AS SELECT EquitiesPivotOptions.* FROM EquitiesPivotOptions JOIN EquitiesPivotOptions2 ON EquitiesPivotOptions.Option == EquitiesPivotOptions2.Option;\n","\n","DELETE FROM EquitiesPivotOptions WHERE Option IN (\"Underlying Currency\", \"Portfolio Manager\", \"Name\") ;\n","\n","DROP TABLE EquitiesPivotOptions2; "],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Option","tp":"String"}],"nm":"EquitiesPivotOptions","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"1M","tp":"Float"},{"nm":"3M","tp":"Float"},{"nm":"6M","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"}],"nm":"t","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Country","tp":"String"},{"nm":"Currency","tp":"String"},{"nm":"Settlement Currency","tp":"String"},{"nm":"Underlying Currency","tp":"String"},{"nm":"positionType","tp":"String"},{"nm":"Portfolio Manager","tp":"String"},{"nm":"Portfolio","tp":"String"},{"nm":"Strategy","tp":"String"},{"nm":"Sub Strategy","tp":"String"},{"nm":"Book","tp":"String"},{"nm":"Exchange","tp":"String"},{"nm":"Total","tp":"Float"},{"nm":"12M","tp":"Float"},{"nm":"24M","tp":"Float"},{"nm":"3Y","tp":"Float"},{"nm":"5Y","tp":"Float"},{"nm":"10Y","tp":"Float"},{"nm":"20Y","tp":"Float"}],"nm":"t2","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RatesPivotOptions","lower":[],"queryMode":"startup","subscribe":["FEED:DV01RawRisk","FEED:FXDV01RawRisk"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  FormPanel fp = layout.getPanel(\"RatesHtml\");\n","  string pivotGroupX = fp.getFieldValue(\"RatesGroupByX\");\n","  String pivotGroupY = fp.getFieldValue(\"RatesGroupByY\");\n","  if (!strIs(pivotGroupX))\n","    pivotGroupX = \"Settlement Currency\";\n","  if (!strIs(pivotGroupY))\n","    pivotGroupY = \"Portfolio Manager\";\n","\n","  \n","  String whereClause = session.getValue(\"PMFilter2\");\n","  CREATE TABLE agg1 AS SELECT * EXCEPT (`1M`,`3M`,`6M`,`12M`,`3Y`,`5Y`, `groupingY`), \n","    `1M` + `3M` + `6M` + `12M` + `3Y` + `5Y` AS PnL, \n","    `groupingY`AS grouping \n","  FROM temp_FXDV01PnL;\n","  CREATE TABLE agg2 AS SELECT * EXCEPT (`12M`,`2Y`,`3Y`,`5Y`,`10Y`,`20Y`, `groupingY`), \n","    `12M` + `2Y` + `3Y` + `5Y` + `10Y` + `20Y` AS PnL,\n","    `groupingY` AS grouping\n","  FROM temp_FXDV01PnL2;\n","  \n","  // CREATE TABLE t2 AS SELECT * FROM agg1;\n","  Table agg = SELECT agg2.Name AS agg2Name, agg2.grouping AS agg2PM, agg1.* EXCEPT (PnL), noNull(agg1.PnL, 0.0) + noNull(agg2.PnL, 0.0) AS PnL\n","    FROM agg1 OUTER JOIN agg2 ON agg1.grouping == agg2.grouping && agg1.Name == agg2.Name;\n","  agg = SELECT \n","    strIs(Name) ? Name : agg2Name AS Name, \n","    strIs(grouping) ? grouping : agg2PM AS PM, PnL \n","  FROM agg;\n","  \n","  if(strIs(whereClause))\n","    agg = SELECT * FROM agg WHERE PM IN ${whereClause};\n","  \n","  CREATE TABLE agg AS SELECT * FROM agg;\n","  List names;\n","  // if (strIs(whereClause))\n","  //   names = use ds=\"AMI\" execute select Name from RatesPnL where ${whereClause} group by Name;\n","  // else\n","  names = select PM from agg group by PM;\n","  set vals = select Name from agg group by Name;\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  // String sumCols = \"Total=SUM(\"\n","  for (String val: vals) {\n","    tableCols += \", `${val}` double\";\n","    insertCols += \",`${val}`\";\n","    colSum += \"`${val}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE RatesPnL (${tableCols});\n","  INSERT INTO RatesPnL (Name) VALUES (\"Total\");\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String val: vals) {\n","      double value = SELECT PnL FROM agg WHERE PM == \"${name}\" AND Name == \"${val}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \",${value == null ? \"null\" : value}\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total} \" + insertStr;\n","    INSERT INTO RatesPnL ${insertCols} VALUES (${insertStr});\n","    \n","  }\n","  \n","  for (String val: vals) {\n","    double value = SELECT SUM(`${val}`) FROM RatesPnL;\n","    UPDATE RatesPnL SET `${val}`=${noNull(value, \"null\")} WHERE Name == \"Total\";\n","  }\n","  double totalSum = SELECT SUM(Total) FROM RatesPnL;\n","  UPDATE RatesPnL SET Total=${noNull(totalSum, \"null\")} WHERE Name == \"Total\";\n","}\n","drop table `FEED:RatesPnL`;"],"hasDatamodel":true,"inputDm":["IRSPnL","FXDV01PnL"],"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"FXDV01PnL","oc":"apply"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"}],"nm":"IRSPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"Macro Outright","tp":"Double"},{"nm":"APAC Rates","tp":"Double"},{"nm":"Directional Rates","tp":"Double"},{"nm":"Overnight","tp":"Double"},{"nm":"USD Rates and Vol","tp":"Double"},{"nm":"Fundamental","tp":"Double"},{"nm":"CN Thematic","tp":"Double"},{"nm":"CN Consumer","tp":"Double"},{"nm":"CN Cyclical","tp":"Double"},{"nm":"CN Pharm","tp":"Double"},{"nm":"CN TMT","tp":"Double"},{"nm":"CN/HK property","tp":"Double"},{"nm":"CN Auto","tp":"Double"},{"nm":"CN Beta","tp":"Double"},{"nm":"JP/TW Equity","tp":"Double"},{"nm":"Alex Fundamental","tp":"Double"},{"nm":"CMIC","tp":"Double"},{"nm":"Consumer","tp":"Double"},{"nm":"Infrastructure","tp":"Double"},{"nm":"Energy/ Resources","tp":"Double"},{"nm":"Gaming","tp":"Double"},{"nm":"Industrials","tp":"Double"},{"nm":"US TMT","tp":"Double"},{"nm":"EU Equity","tp":"Double"},{"nm":"Volatility Dispersion Trading","tp":"Double"},{"nm":"Tech","tp":"Double"},{"nm":"REIT","tp":"Double"},{"nm":"Healthcare","tp":"Double"},{"nm":"Macro Other","tp":"Double"},{"nm":"US Equity","tp":"Double"},{"nm":"Macro RV","tp":"Double"},{"nm":"CEE3 Rates","tp":"Double"},{"nm":"BRL Rates","tp":"Double"},{"nm":"JPY GBP Rates and Vol","tp":"Double"},{"nm":"RV","tp":"Double"},{"nm":"AU Equity","tp":"Double"},{"nm":"Calendar spread","tp":"Double"},{"nm":"Spread Arb","tp":"Double"},{"nm":"Volatility Skew","tp":"Double"},{"nm":"Storage","tp":"Double"},{"nm":"Miscellaneous","tp":"Double"}],"nm":"RatesPnL","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PM","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"agg","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg1","oc":"apply"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"grouping","tp":"String"}],"nm":"agg2","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"1M","tp":"Double"},{"nm":"3M","tp":"Double"},{"nm":"6M","tp":"Double"},{"nm":"12M","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"}],"nm":"temp_FXDV01PnL","oc":"apply"},{"cols":[{"nm":"groupingY","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"12M","tp":"Double"},{"nm":"2Y","tp":"Double"},{"nm":"3Y","tp":"Double"},{"nm":"5Y","tp":"Double"},{"nm":"10Y","tp":"Double"},{"nm":"20Y","tp":"Double"}],"nm":"temp_FXDV01PnL2","oc":"apply"}]}},{"amiscript":["// TablePanel tp = layout.getPanel(\"RatesPnL\");\n","// tp.autosizeAllColumns();"],"hasDatamodel":true,"linkedVariables":[],"name":"onComplete","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"Currency","tp":"String"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"}],"nm":"FEED:RatesPnL","oc":"ask"}]}}]},"lbl":"RatesPnL","lower":["IRSPnL","FXDV01PnL"],"queryMode":"startup,visible","subscribe":["FEED:RatesPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  int count = use ds=\"AMI\" execute SELECT count(*) FROM RiskMetricsTimestamp; \n","  if (count == null || count == 0)\n","    return;\n","  FormPanel fp = layout.getPanel(\"Html1\");\n","  String ts = use ds=\"AMI\" execute SELECT ts FROM RiskMetricsTimestamp; \n","  RiskMetricTimestamp.setValue(\"Risk Metrics Upload Timestamp: \" + ts);\n","}\n"],"hasDatamodel":true,"linkedVariables":[{"ari":"FIELD:Html1?RiskMetricTimestamp","varName":"RiskMetricTimestamp"}],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"A","tp":"String"},{"nm":"D","tp":"Long"},{"nm":"ts","tp":"String"}],"nm":"FEED:RiskMetricsTimestamp","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"RiskMetricsTimestamp","lower":[],"queryMode":"startup","subscribe":["FEED:RiskMetricsTimestamp"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"USD\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","\n","  CREATE TABLE EURTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"EUR\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  \n","    CREATE TABLE JPYTotalIRVolPnL AS SELECT toSimpleTimeStr(Period) AS Period, \n","  SUM(TenYear) AS TenYear,\n","  SUM(ThreeYear) AS ThreeYear,\n","  SUM(OneYear) AS OneYear,\n","  SUM(FourYear) AS FourYear,\n","  SUM(FifteenYear) AS FifteenYear,\n","  SUM(FiveYear) AS FiveYear,\n","  SUM(SevenYear) AS SevenYear,\n","  SUM(ThirtyYear) AS ThirtyYear,\n","  SUM(TwoYear) AS  TwoYear,\n","  SUM(TwentyYear) AS TwentyYear\n","  FROM `FEED:IRVolPnL` WHERE Currency == \"JPY\" GROUP BY Currency, Period ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"Name","tp":"String"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:IRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYTotalIRVolPnL","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDTotalIRVolPnL","oc":"ask"}]},"timeout":-1}]},"lbl":"TotalIRVolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:IRVolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  string whereClause = session.getValue(\"PMFilter\");\n","  if (whereClause != null)\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary where ${whereClause} GROUP BY Category;\n","  else\n","    CREATE TABLE TotalPnL2 AS USE ds=\"AMI\" execute SELECT Category, SUM(TotalPnL) AS TotalPnL FROM PnLSummary GROUP BY Category;\n","  CREATE TABLE TotalPnL AS SELECT \"Total\" AS Category, SUM(TotalPnL) AS TotalPnL FROM TotalPnL2;\n","  INSERT INTO TotalPnL FROM SELECT * FROM TotalPnL2;\n","  DROP TABLE `FEED:PnLSummary`, TotalPnL2;\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Category","tp":"String"},{"nm":"TotalPnL","tp":"Double"}],"nm":"TotalPnL","oc":"ask"}]}}]},"datasources":["AMI"],"lbl":"TotalPnL","lower":[],"queryMode":"startup","subscribe":["FEED:PnLSummary"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  List names = session.getValue(\"names\");\n","  List currencies = new List(\"USD\", \"EUR\", \"JPY\");\n","  String tableCols = \"Name String, Total double\";\n","  String insertCols = \"(Name, Total\";\n","  String colSum = \"\";\n","  for (String currency: currencies) {\n","    tableCols += \", `${currency}` double\";\n","    insertCols += \",`${currency}`\";\n","    colSum += \"`${currency}`+\";\n","  }\n","  colSum = strBeforeLast(colSum, \"+\", true);\n","  insertCols += \")\";\n","  CREATE TABLE VolPnL (${tableCols});\n","  \n","  for (String name: names) {\n","    String insertStr = \"\";\n","    double total = 0.0;\n","    for (String currency: currencies) {\n","      double value = SELECT PnL FROM `FEED:VolPnL` WHERE Name == \"${name}\" AND Currency == \"${currency}\";\n","      if (value == 0) value = null;\n","      total += value == null ? 0 : value;\n","      insertStr += \"${value == null ? \"null\" : value},\";\n","    }\n","    insertStr = \"\\\"${name}\\\", ${total == null ? \"null\":total}, \" + strBeforeLast(insertStr, \",\", true);\n","    INSERT INTO VolPnL ${insertCols} VALUES (${insertStr});\n","  }\n","}\n"],"hasDatamodel":true,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"D","tp":"Long"},{"nm":"Name","tp":"String"},{"nm":"PnL","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"Currency","tp":"String"}],"nm":"FEED:VolPnL","oc":"ask"},{"cols":[{"nm":"Name","tp":"String"},{"nm":"Total","tp":"Double"},{"nm":"USD","tp":"Double"},{"nm":"EUR","tp":"Double"},{"nm":"JPY","tp":"Double"}],"nm":"VolPnL","oc":"ask"}]}}]},"lbl":"VolPnL","lower":[],"queryMode":"startup","subscribe":["FEED:VolPnL"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVols AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:Vols` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVols","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:Vols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVols","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVols","oc":"ask"}]},"timeout":-1}]},"lbl":"Vols","lower":[],"queryMode":"startup","subscribe":["FEED:Vols"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{"entries":[{"amiscript":["{\n","  CREATE TABLE USDVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"USD\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE EURVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"EUR\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","  CREATE TABLE JPYVolsChanges AS SELECT toSimpleTimeStr(Period) AS Period, * EXCEPT(Period, A, D, Currency) FROM `FEED:VolsChanges` WHERE Currency == \"JPY\" ORDER BY toSimpleTimeStrOrder(Period) ASC;\n","}\n"],"hasDatamodel":true,"limit":-1,"linkedVariables":[],"name":"onProcess","schema":{"tbl":[{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"EURVolsChanges","oc":"ask"},{"cols":[{"nm":"D","tp":"Long"},{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"A","tp":"String"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"Currency","tp":"String"},{"nm":"TwentyYear","tp":"Double"}],"nm":"FEED:VolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"JPYVolsChanges","oc":"ask"},{"cols":[{"nm":"Period","tp":"String"},{"nm":"TenYear","tp":"Double"},{"nm":"ThreeYear","tp":"Double"},{"nm":"OneYear","tp":"Double"},{"nm":"FourYear","tp":"Double"},{"nm":"FifteenYear","tp":"Double"},{"nm":"ThirtyYear","tp":"Double"},{"nm":"SevenYear","tp":"Double"},{"nm":"FiveYear","tp":"Double"},{"nm":"TwoYear","tp":"Double"},{"nm":"TwentyYear","tp":"Double"}],"nm":"USDVolsChanges","oc":"ask"}]},"timeout":-1}]},"lbl":"VolsChanges","lower":[],"queryMode":"startup","subscribe":["FEED:VolsChanges"],"test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"},{"callbacks":{},"lbl":"datamodel","lower":[],"queryMode":"startup","test_input_type":"OPEN","test_input_vars":"String WHERE=\"true\";"}]},"fileVersion":3,"menubarPosition":"top","rt":{},"stm":{"styles":[{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV2","lb":"arrowpointv2","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#000000"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#292c33"},{"name":"$borderSoft","value":"#484c57"},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$borderHard","titlePnlFontCl":"$icon"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":8.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":7.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Flat","scrollBdrCl":"#000000","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"#000000","scrollWd":8.0,"titlePnlFontCl":"$primary"},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":344.0,"bgCl":"$bgBodyAlt","cellBdrCl":"$borderSoft","cellBtmPx":1.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":9.0,"columnFilterHeight":29.0,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#8c0505","flashUpCl":"#305930","fontCl":"$text2","graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","pdBdrCl":"$borderHard","rowHt":25.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","titlePnlAlign":"center","titlePnlFontCl":"$text3","vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"DARK_MATTER","lb":"Dark Matter","pt":"DEFAULT","vl":{"chart":{"bgCl":"#000000","divCl":"#fff800","divThckH":1.0,"divThckV":1.0,"seriesCls":["#30b3ff","#ff7530","#ff303e","#ffc637","#ff3098","#30ff6e","#d229db","#30f8ff","#94d8ff","#ffb894","#ff949b","#ffe49e","#ff94c9","#94ffb4","#e481ea","#94fbff"]},"chartAxis":{"axEndPd":5.0,"axGroupPd":5.0,"axLineCl":"#fff800","axMajUnitSz":10.0,"axMinorUnitSz":3.0,"axNumFontCl":"#fff800","axNumPd":21.0,"axNumRotate":-45.0,"axStartPd":5.0,"axTitleCl":"#fb8b1e","axTitlePd":30.0,"axTitleSz":20.0},"div":{"divCl":"#c46000","divHoverCl":"#fb8b1e","divSz":0.0},"field":{"bold":false,"fldBdrCl":"#424242","fldBgCl":"#191919","fldFontCl":"#ffffff","fldFontFam":"Verdana","fldLblAlign":"start","fldLblSide":"top","fontCl":"#ededed","fontFam":"Verdana","fontSz":17.0,"lblPd":14.0},"form":{"bgCl":"#000000"},"global":{"bgCl":"#000000","btnBdrCl":"#000000","btnBgCl":"#000000","btnIconCl":"#ff8107","btnShdwCl":"#000000","deskBgCl":"#0f0f0e","fontCl":"#fb8b1e","menuBgCl":"#000000","menuBorderBtmRtCl":"#c46000","menuBorderTpLfCl":"#fb8b1e","menuDisBgCl":"#000000","menuDisFontCl":"#ffffff","menuDivCl":"#fb8b1e","menuFontCl":"#ffffff","titleBarBdrCl":"#000000","winBgCl":"#000000","winBorderSz":10.0,"winClBtmRt":"#fb8b1e","winClTpLf":"#fb8b1e","winFontCl":"#fb8b1e","winHeaderPd":5.0},"heatmap":{"fontFam":"Verdana","groupBdrCl":"#212121","groupBdrSz":1.0,"groupBgCl":"#3e1c06","groupFontCl":"#f29514","groupFontSz":25.0,"nodeBdrCl":"#212121","nodeBdrSz":1.0,"nodeFontCl":"#fff600","nodeFontSz":30.0,"nodeGradient":"0.15454545454545454:#005602,0.4545454545454545:#43b760,0.6409090909090909:#960002,0.8590909090909091:#005602","txtAlign":"center"},"legend":{"lgdBgCl":"#212120","lgdCbBdrCl":"#fff800","lgdCbCk":"#fff800","lgdCbCl":"#020000","lgdNmCl":"#ffffff","lgdNmPos":"top"},"panel":{"fontFam":"Segoe UI","pdBdrCl":"#111111","pdBdrSzPx":3.0,"pdBtmPx":20.0,"pdCl":"#000000","pdLfPx":20.0,"pdRtPx":20.0,"pdTpPx":20.0,"scrollBdrCl":"#7a7a7a","scrollBtnCl":"#c15e00","scrollGripCl":"#333333","scrollIconsCl":"#ffffff","scrollTrackCl":"#000000","scrollWd":13.0},"table":{"actCl":"#8c8c8c","bgCl":"#000000","cellBdrCl":"#212121","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#ee8c26","columnFilterFontSz":15.0,"columnFilterHeight":28.0,"columnFilterHide":false,"flashDnCl":"#a30606","flashUpCl":"#cc881c","fontCl":"#ffe3c9","fontSz":13.0,"graybarCl":"#0f0f0e","headerBgCl":"#3e1c06","headerDivHide":true,"headerFontCl":"#ee8c26","rowHt":20.0,"searchBarDivCl":"#3e1c06","searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldCl":"#5e3012","searchFldFontCl":"#fb8b1e","searchFontCl":"#ee8c26","selCl":"#686864","vtAlign":"center"},"tabs":{"fontFam":"Verdana","fontSz":15.0,"padBtm":1.0,"padStart":0.0,"padTp":0.0,"pdCl":"#161616","roundLf":0.0,"roundRt":0.0,"selCl":"#fff800","selTxtCl":"#000000","spacing":3.0,"tabBdrCl":"#3e1c06","tabHt":30.0,"undock":true,"unselCl":"#000000","unselTxtCl":"#fb8b1e"},"treegrid":{"actCl":"#8b8c8c","bgCl":"#1d1d1e","cellBdrCl":"#444444","cellBtmPx":1.0,"cellPadHt":5.0,"cellRtPx":1.0,"columnFilterBdrCl":"#fb8b1e","columnFilterBgCl":"#3e1c06","columnFilterFontCl":"#fb8b1e","columnFilterHide":false,"fontCl":"#fadfc5","fontFam":"Verdana","fontSz":12.0,"graybarCl":"#2a2a2b","headerBgCl":"#3e1c06","headerFontCl":"#d47b21","headerHt":17.0,"rowHt":20.0,"searchBgCl":"#3e1c06","searchBtnsCl":"#fb8b1e","searchFldBdrCl":"#ffb063","searchFldBgCl":"#5e3012","searchFldFontCl":"#fb8b1e","selCl":"#686864","vtAlign":"bottom"}}},{"css":[".text {\n","  border-width: 0px 0px 1px 0px;\n","  border-color: $borderHard;\n","  border-radius: 0px;\n","}\n",".text:hover {\n","  background-color: $bgHeader;\n","}\n",".text::selection {\n","  background-color: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_base {\n","  extends-css: button_base;\n","  border: 0px;\n","  border-radius: 4px;\n","}\n","\n",".button_primary {\n","  extends-css: button_base;\n","  background: $primary;\n","  color: $textInverted;\n","}\n","\n",".button_primary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $primary;\n","  border: 1px solid $primary;\n","}\n","\n",".button_secondary {\n","  extends-css: button_base;\n","  background: $secondary;\n","  color: $textInverted;\n","}\n","\n",".button_secondary_inverted {\n","  extends-css: button_base;\n","  background: none;\n","  color: $secondary;\n","  border: 1px solid $secondary;\n","}\n","\n",".button_success {\n","  extends-css: button_base;\n","  background: $success;\n","  color: $textInverted;\n","}\n","\n",".button_warning {\n","  extends-css: button_base;\n","  background: $warning;\n","  color: $textInverted;\n","}\n","\n",".button_danger {\n","  extends-css: button_base;\n","  background: $danger;\n","  color: $textInverted;\n","}\n","\n",".button_ghost {\n","  extends-css: button_base;\n","  background: $bgBody;\n","  color: $primary;\n","}\n"],"id":"ARROWPOINTV1","lb":"arrowpointv1","pt":"DEFAULT","vars":{"colors":[{"name":"$success","value":"#2fbf2f"},{"name":"$text","value":"#000000"},{"name":"$axes","value":"#cccccc"},{"name":"$textGreyed","value":"#9f9f9f"},{"name":"$grid","value":"#757575"},{"name":"$text2","value":"#ffffff"},{"name":"$text3","value":"#e4e0d5"},{"name":"$bgBodyAlt","value":"#ffffff"},{"name":"$secondary","value":"#eab74b"},{"name":"$danger","value":"#ff3f3f"},{"name":"$bgBody","value":"#ffffff"},{"name":"$icon","value":"#ffffff"},{"name":"$borderHard","value":"#484c57"},{"name":"$borderSoft","value":null},{"name":"$warning","value":"#ffff7f"},{"name":"$scroll","value":"#bdbdbd"},{"name":"$bgHeader","value":"#3c404c"},{"name":"$primary","value":"#4c8bea"},{"name":"$textInverted","value":"#ffffff"}]},"vl":{"chart":{"bgCl":"$bgBody","divCl":"$axes","divThckH":1.0,"divThckV":1.0,"gradient":"0.0:#d6080b,0.5:#ffffff,1.0:#4b37bf","scrCl":"$primary","selBoxBrdCl":"#7f7f7f7f","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chart3d":{"ctrlBtnsCl":"$text","fontCl":"$text","gradient":"0.0:#d6080b,0.509090909090909:#ffffff,1.0:#4b37bf","scrFOVCl":"$secondary","scrXCl":"$primary","scrXPosCl":"$primary","scrYCl":"$primary","scrYPosCl":"$primary","scrZCl":"$primary","scrZoomCl":"$secondary","seriesCls":["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"]},"chartAxis":{"axLblFontCl":"$text","axLblPd":0.0,"axLblTickSz":11.0,"axLineCl":"$axes","axMinorUnitSz":2.0,"axNumFontCl":"$text","axTitleCl":"$text"},"div":{"divCl":"$bgHeader","divHoverCl":"$bgHeader","divSz":2.0,"titlePnlFontCl":"$primary"},"filter":{"fldBdrCl":"$text","fldBgCl":"$bgBody","fldFontCl":"$text","titleFontCl":"$text","txtAlign":"left"},"form":{"bgCl":"$bgBody"},"global":{"bgCl":"$bgHeader","btnBdrCl":"$bgHeader","btnBgCl":"$bgHeader","btnIconCl":"$icon","btnShdwCl":"$bgHeader","deskBgCl":"$bgHeader","dialogFldBgCl":"$bgBody","dialogFldFontCl":"$text","dialogFormButtonBgCl":"$primary","dialogFormButtonFontCl":"$textInverted","dialogFormButtonPnlBgCl":"$bgBody","dialogTitleFontSz":8.0,"dialogXButtonHi":14.0,"fontCl":"$text3","helpBgCl":"$primary","helpFontCl":"$textInverted","menuBgCl":"$bgBody","menuBorderBtmRtCl":"$borderHard","menuBorderTpLfCl":"$borderHard","menuDisBgCl":"$bgHeader","menuDisFontCl":"$textGreyed","menuDivCl":"$bgHeader","menuFontCl":"$text","menuHoverBgCl":"$primary","menuHoverFontCl":"$textInverted","titleBarBdrCl":"$borderSoft","usrWinBdrSz":5.0,"usrWinBtnCl":"$bgHeader","usrWinBtnDownCl":"$bgHeader","usrWinBtnFontCl":"$text","usrWinBtnIconCl":"$icon","usrWinBtnUpCl":"$bgHeader","usrWinCl":"$bgHeader","usrWinDownCl":"$bgHeader","usrWinFdBdrCl":"$borderHard","usrWinFdBgCl":"$bgBody","usrWinFdLblFnCl":"$text","usrWinFdValFgCl":"$text","usrWinFormBgCl":"$bgBody","usrWinFormBtnPanelCl":"$bgBody","usrWinHeaderSz":19.0,"usrWinInnerBdrSz":0.0,"usrWinOuterBdrSz":0.0,"usrWinTxtCl":"$text","usrWinUpCl":"$bgHeader","waitBgCl":"$bgHeader","waitFillCl":"$primary","waitLineCl":"$text","winBgCl":"$bgHeader","winBorderSz":3.0,"winClBtmRt":"$borderSoft","winClTpLf":"$borderSoft","winFontCl":"$text3","winFontSz":16.0},"graphLayer":{"grLyrHMajGrdCl":"$grid","grLyrVMajGrdCl":"$grid","hMajGrdSz":1.0,"vMajGrdSz":1.0},"heatmap":{"groupBdrCl":"$bgBody","groupBdrSz":2.0,"groupBgCl":"$bgHeader","groupFontCl":"$text","groupFontSz":22.0,"nodeBdrCl":"$bgHeader","nodeBdrSz":1.0,"nodeFontCl":"$text","nodeFontSz":14.0,"nodeGradient":"0.0:#d6080b,0.5136363636363637:#ffffff,1.0:#4b37bf","selBdrCl1":"$primary","selBdrCl2":"$primary","txtAlign":"left","vtAlign":"top"},"legend":{"lgdBdrCl":"$borderHard","lgdBgCl":"$bgBody","lgdCbBdrCl":"$borderHard","lgdCbCk":"$text","lgdCbCl":"$bgBody","lgdMaxHt":160.0,"lgdMaxWd":160.0,"lgdNmCl":"$text"},"panel":{"bgCl":"$bgBody","fldBgCl":"$bgBody","fldFontCl":"$text","fontCl":"$text","graybarCl":"$bgBody","pdBdrCl":"#3c404c","scrollBarCornerCl":"$bgBody","scrollBarHideArrows":true,"scrollBarRadius":"Rounded","scrollBdrCl":"$bgBody","scrollBtnCl":"$scroll","scrollGripCl":"$scroll","scrollIconsCl":"$scroll","scrollTrackCl":"$bgBody","scrollWd":10.0,"titlePnlAlign":"left","titlePnlFontCl":"$primary","titlePnlFontSz":17.0},"radialGraphLayer":{"rdLyrBdrCl":"$grid","rdLyrBdrSz":1.0,"rdLyrCircleCl":"$grid","rdLyrCircleSz":1.0,"rdLyrLblCl":"$axes","rdLyrSpokesCl":"$grid","rdLyrSpokesCount":24.0,"rdLyrSpokesSz":1.0},"table":{"FlashMillis":237.0,"actCl":"#f4efe1","bgCl":"#d4dbdd","cellBdrCl":"#b4bec1","cellBtmPx":1.0,"cellPadHt":6.0,"cellRtPx":0.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterHeight":29.0,"columnFilterHide":true,"filtBgCl":"$primary","filtFontCl":"$textInverted","flashDnCl":"#ff3f3f9b","flashUpCl":"#2fbf2f9b","fontCl":"$text","fontSz":12.0,"graybarCl":"#cbd3d6","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text3","headerFontSz":13.0,"headerHt":20.0,"pdCl":"#3c404c","pdTpPx":3.0,"rowHt":22.0,"searchBarDivCl":"$bgHeader","searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldCl":"$bgBody","searchFldFontCl":"$text","searchFontCl":"$text2","searchHide":true,"selCl":"#897847","titlePnlFontCl":"#ccd7e2","titlePnlFontSz":16.0,"vtAlign":"center"},"tabs":{"addBtnCl":"$text","hideExpSsMnItm":true,"padBtm":2.0,"padStart":7.0,"padTp":0.0,"pdCl":"$bgHeader","roundLf":5.0,"roundRt":0.0,"selCl":"$grid","selTxtCl":"$text","spacing":12.0,"tabBdrCl":"$text","tabHt":31.0,"tabSelBdrCl":"$primary","tabSelBdrSz":0.0,"titlePnlFontCl":"$primary","unselCl":"$bgHeader","unselTxtCl":"$scroll"},"treegrid":{"actCl":"#4c8bea","cellBdrCl":"$bgHeader","cellBtmPx":1.0,"cellPadHt":2.0,"columnFilterBdrCl":"$borderHard","columnFilterBgCl":"$bgBody","columnFilterFontCl":"$text","columnFilterFontSz":12.0,"columnFilterHeight":30.0,"fontCl":"$text","fontSz":13.0,"graybarCl":"$bgBodyAlt","headerBgCl":"$bgHeader","headerDivHide":true,"headerFontCl":"$text","headerFontSz":14.0,"headerHt":30.0,"rowHt":21.0,"searchBgCl":"$bgHeader","searchBtnsCl":"$icon","searchFldBdrCl":"$borderHard","searchFldBgCl":"$bgBody","searchFldFontCl":"$text","selCl":"#4c8bea73","vtAlign":"center"}}},{"id":"LAYOUT_DEFAULT","lb":"Layout Default","pt":"ARROWPOINTV1","vl":{"form":{"bgCl":"#d4dbdd"}}}]},"transientIdPrefix":"TRANSIENT_"},"portletConfigs":[{"portletBuilderId":"amidesktop","portletConfig":{"amiPanelId":"@DESKTOP","amiStyle":{"pt":"LAYOUT_DEFAULT","titleBarBdrCl":"#4e5260"},"windows":[{"header":false,"heightDflt":558,"hidden":false,"leftDflt":80,"portlet":"Div25","pos":0,"stateDflt":"max","title":"Main","topDflt":100,"widthDflt":1066,"zindexDflt":1},{"header":true,"heightDflt":638,"hidden":false,"leftDflt":602,"portlet":"Div26","pos":1,"stateDflt":"min","title":"Manage PMs","topDflt":368,"widthDflt":648,"zindexDflt":2}]}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"BreakdownPNL","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"callbacks":{"entries":[{"amiscript":["PMPODSelect.invokeCallback(\"onChange\");\n","DividerPanel div = layout.getPanel(\"Div25\");\n","if (!div.isSnapped())\n","  div.snap();"],"linkedVariables":[{"ari":"FIELD:BreakdownPNL?PMPODSelect","varName":"PMPODSelect"}],"name":"onVisible"}]},"fields":[{"bottomPosPct":0.2,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"PnLBreakdown\").reprocess();\n","setBreakdownPNL(this.getValue());\n","\n","string whereClause = \"`Portfolio Manager` == \\\"${this.getValue()}\\\"\";\n","(TablePanel)(layout.getPanel(\"EquitiesRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"CommRawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXDV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"DV01RawRisk\")).setCurrentWhere(whereClause);\n","(TablePanel)(layout.getPanel(\"FXRawRisk\")).setCurrentWhere(whereClause);"],"linkedVariables":[],"name":"onChange"}]},"dmid":"PMFilter","dmtbid":"PnLFilter","dscid":"Name","dsrt":"asc","dsvid":"Name","l":"PM/POD","leftPosPx":88,"n":"PMPODSelect","rightPosPct":0.85,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"center","fldLblSide":"left","fontSz":15.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":15,"zidx":1}],"snap":20,"upid":"BreakdownPNL"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ComdtyHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"CommsAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"CommPivotOptions","dmtbid":"CommPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":347,"n":"ComdtyGroupBy","rightPosPct":0.03,"style":{"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL </div>","snap":20,"upid":"ComdtyHtml"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":92},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":108},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":91},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":52},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"CommRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommRawRisk"},"upid":"CommRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":103},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Price","fw":false,"hs":"\"center\"","id":"Price","location":2,"pc":2,"sy":"\"center\"","tl":"Price","tooltip":"","tp":"price","width":38},{"ei":"","eof":"","fm":"PriceUSD","fw":false,"hs":"\"center\"","id":"PriceUSD","location":3,"pc":2,"sy":"\"center\"","tl":"Price (USD)","tooltip":"","tp":"price","width":79},{"ei":"","eof":"","fm":"ContractValue","fw":false,"hs":"\"center\"","id":"ContractValue","location":4,"pc":2,"sy":"\"center\"","tl":"Contract Value","tooltip":"","tp":"numeric","width":95},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"\"center\"","id":"DeltaTMinusOne","location":5,"pc":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Commodities","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"Commodities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Commodities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Commodities"},"upid":"Commodities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"fm":"sum(CommDelta)","fw":false,"id":"CommDelta","location":1,"tl":"Comm Delta","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":54},{"id":"#0","width":80}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":138}],"amiPanelId":"CommoditiesPnL","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnL","varTypes":{"CommDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":113},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":55},{"ei":"","eof":"","fg":"colorDisplay((double)CommDelta)","fm":"numberDisplay((double)CommDelta,4)","fw":false,"hs":"","id":"CommDelta","location":2,"tl":"Comm Delta","tooltip":"","tp":"text","width":107},{"ei":"","eof":"","fg":"colorDisplay((double)PnL)","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"tl":"PnL","tooltip":"","tp":"text","width":93},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"CommoditiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"CommoditiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:CommoditiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommoditiesPnLPNL","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":193},{"fm":"Size","fw":false,"id":"Size","location":1,"pc":0,"tl":"Size","tp":"numeric","width":85},{"fm":"CommDelta","fw":false,"id":"CommDelta","location":2,"tl":"Comm Delta","tp":"numeric","width":117},{"fm":"PnL","fw":false,"id":"PnL","location":3,"tl":"Pn L","tp":"numeric","width":93},{"id":"D","width":100}],"amiPanelId":"CommsAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"CommoditiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"CommsAgg","dmtbid":["CommoditiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"CommoditiesPnL"},"upid":"CommsAgg","varTypes":{"CommDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":225},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":11,"tl":"Total","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`12M`)","fm":"numberDisplay((double)`12M`,4)","fw":false,"hs":"","id":"_12M","location":12,"tl":"12M","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)`24M`)","fm":"numberDisplay((double)`24M`,4)","fw":false,"hs":"","id":"_24M","location":13,"tl":"2Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`3Y`)","fm":"numberDisplay((double)`3Y`,4)","fw":false,"hs":"","id":"_3Y","location":14,"tl":"3Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`5Y`)","fm":"numberDisplay((double)`5Y`,4)","fw":false,"hs":"","id":"_5Y","location":15,"tl":"5Y","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay((double)`10Y`)","fm":"numberDisplay((double)`10Y`,4)","fw":false,"hs":"","id":"_10Y","location":16,"tl":"10Y","tooltip":"","tp":"text","width":60},{"ei":"","eof":"","fg":"colorDisplay((double)`20Y`)","fm":"numberDisplay((double)`20Y`,4)","fw":false,"hs":"","id":"_20Y","location":17,"tl":"20Y","tooltip":"","tp":"text","width":70},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"DV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"DV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:DV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"DV01RawRisk"},"upid":"DV01RawRisk","varTypes":{"10Y":"Float","12M":"Float","20Y":"Float","24M":"Float","3Y":"Float","5Y":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div1","amiStyle":{"divCl":"#5b6175","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div32","child2":"Div2","dir":"v","locked":true,"offset":0.09666,"upid":"Div1"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div10","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols","child2":"Div11","dir":"v","locked":false,"offset":0.35581,"upid":"Div10"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div11","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols1","child2":"Vols2","dir":"v","locked":false,"offset":0.5,"upid":"Div11"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div12","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols3","child2":"Div13","dir":"v","locked":false,"offset":0.35521,"upid":"Div12"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div13","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols4","child2":"Vols5","dir":"v","locked":false,"offset":0.5,"upid":"Div13"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div14","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div12","child2":"Div15","dir":"h","locked":false,"offset":0.45113,"upid":"Div14"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div15","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols6","child2":"Div16","dir":"v","locked":false,"offset":0.35701,"upid":"Div15"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div16","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Vols7","child2":"Vols8","dir":"v","locked":false,"offset":0.5,"upid":"Div16"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div17","amiStyle":{"divCl":"#595e6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"PNL5","child2":"Div18","dir":"v","locked":true,"offset":0.0794,"upid":"Div17"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div18","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Commodities","child2":"Div19","dir":"v","locked":false,"offset":0.25327,"upid":"Div18"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div19","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div27","child2":"CommoditiesPnL","dir":"v","locked":false,"offset":0.41324,"upid":"Div19"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div2","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div21","child2":"Div33","dir":"h","locked":false,"offset":0.5,"upid":"Div2"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div20","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html3","child2":"TotalPnL","dir":"h","locked":true,"offset":0.15662,"upid":"Div20"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div21","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"FXHtml","child2":"FXPnL","dir":"h","locked":true,"offset":0.11084,"upid":"Div24"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div22","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div28","child2":"Div54","dir":"v","locked":false,"offset":0.45462,"upid":"Div23"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div23","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div53","child2":"Div22","dir":"v","locked":false,"offset":0.34242,"upid":"Div22"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div24","amiStyle":{"divCl":"#555b6b","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div55","child2":"Div23","dir":"v","locked":true,"offset":0.0794,"upid":"Div21"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div25","amiStyle":{"divCl":"#5d6375","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"PnLFilter","child2":"Tabs1","dir":"v","isMin":true,"locked":false,"offset":0.04427,"snap":"start","upid":"Div25"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div26","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"PMCategory","child2":"ModifyPM","dir":"v","locked":false,"offset":0.37346,"upid":"Div26"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div27","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"ComdtyHtml","child2":"CommsAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div27"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div28","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EquitiesHtml","child2":"EquitiesAgg","dir":"h","locked":true,"offset":0.05,"upid":"Div28"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div29","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div7","child2":"Html2","dir":"v","locked":true,"offset":0.40543,"upid":"Div29"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div3","amiStyle":{"divCl":"#4e5363","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div5","child2":"Div4","dir":"v","locked":true,"offset":0.1651,"upid":"Div3"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div30","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"RatesHtml","child2":"RatesPnL","dir":"h","locked":true,"offset":0.12401,"upid":"Div30"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div31","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html4","child2":"PnLSummary","dir":"h","locked":true,"offset":0.05582,"upid":"Div31"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div32","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html5","child2":"PNL1","dir":"h","locked":true,"offset":0.03953,"upid":"Div32"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div33","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html6","child2":"FXDelta","dir":"h","locked":true,"offset":0.07692,"upid":"Div33"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div34","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html7","child2":"PNL2","dir":"h","locked":true,"offset":0.0755,"upid":"Div34"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div35","amiStyle":{"divCl":"#505563","divSz":6.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div20","child2":"Html1","dir":"v","locked":true,"offset":0.4929,"upid":"Div35"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div36","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html8","child2":"PNL3","dir":"h","locked":true,"offset":0.08314,"upid":"Div43"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div37","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html9","child2":"IRSPnL","dir":"h","locked":true,"offset":0.14545,"upid":"Div44"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div38","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html10","child2":"FXDV01PnL","dir":"h","locked":true,"offset":0.1308,"upid":"Div45"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div39","amiStyle":{"divCl":"#575d6d","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div56","child2":"Tabs4","dir":"v","locked":false,"offset":0.12017,"upid":"Div37"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div4","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div30","child2":"Tabs8","dir":"h","locked":false,"offset":0.46512,"upid":"Div4"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div40","amiStyle":{"divCl":"#6d7282","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"BreakdownPNL","child2":"Div39","dir":"h","locked":false,"offset":0.06279,"upid":"Div36"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div41","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLUSDPNL","child2":"Div45","dir":"v","locked":false,"offset":0.34899,"upid":"Div39"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div42","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div41","child2":"Div44","dir":"h","locked":false,"offset":0.5,"upid":"Div38"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div43","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"EURIRVegaRisksPNL","child2":"JPYIRVegaRisksPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div42"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div44","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"USDIRVegaRisksPNL","child2":"Div43","dir":"v","locked":false,"offset":0.34958,"upid":"Div41"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div45","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"IRVolPnLEURPNL","child2":"IRVolPnLJPYPNL","dir":"v","locked":false,"offset":0.5,"upid":"Div40"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div46","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html11","child2":"IRSPnLPNL1","dir":"h","locked":false,"offset":0.12719,"upid":"Div46"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div47","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html12","child2":"IRSRisksPNL1","dir":"h","locked":true,"offset":0.13157,"upid":"Div47"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div48","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html13","child2":"FXDV01PnLPNL1","dir":"h","locked":true,"offset":0.13974,"upid":"Div48"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div49","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div48","child2":"Div52","dir":"v","locked":false,"offset":0.5,"upid":"Div51"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div5","amiStyle":{"divCl":"#4e5363","divSz":3.0,"pt":"LAYOUT_DEFAULT"},"child1":"Div34","child2":"Div36","dir":"h","locked":true,"offset":0.5093,"upid":"Div5"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div50","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div46","child2":"Div47","dir":"v","locked":false,"offset":0.5,"upid":"Div50"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div51","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div50","child2":"Div49","dir":"h","locked":false,"offset":0.5,"upid":"Div49"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div52","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html14","child2":"FXDV01RisksPNL1","dir":"h","locked":true,"offset":0.13536,"upid":"Div52"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div53","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html15","child2":"Equities","dir":"h","locked":true,"offset":0.06279,"upid":"Div53"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div54","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html16","child2":"EquitiesPnL","dir":"h","locked":true,"offset":0.06163,"upid":"Div54"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div55","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html17","child2":"PNL10","dir":"h","locked":true,"offset":0.03604,"upid":"Div55"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div56","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html18","child2":"PnLBreakdown","dir":"h","locked":true,"offset":0.04408,"upid":"Div56"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div57","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html19","child2":"FXRawRisk","dir":"h","locked":true,"offset":0.04201,"upid":"Div57"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div58","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html20","child2":"FXPnLPNL","dir":"h","locked":true,"offset":0.04065,"upid":"Div58"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div59","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html21","child2":"DV01RawRisk","dir":"h","locked":false,"offset":0.04097,"upid":"Div59"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div6","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div37","child2":"Div38","dir":"h","locked":false,"offset":0.48165,"upid":"Div6"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div60","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html22","child2":"FXDV01RawRisk","dir":"h","locked":true,"offset":0.03713,"upid":"Div60"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div61","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html23","child2":"CommoditiesPnLPNL","dir":"h","locked":false,"offset":0.03841,"upid":"Div61"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div62","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html24","child2":"CommRawRisk","dir":"h","locked":false,"offset":0.04225,"upid":"Div62"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div63","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html25","child2":"EquitiesPnLPNL","dir":"h","locked":true,"offset":0.04225,"upid":"Div63"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div64","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Html26","child2":"EquitiesRawRisk","dir":"h","locked":true,"offset":0.04225,"upid":"Div64"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div7","amiStyle":{"divCl":"#3c404c","pt":"LAYOUT_DEFAULT"},"child1":"Div35","child2":"Div31","dir":"h","locked":true,"offset":0.2907,"upid":"Div7"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div8","amiStyle":{"divCl":"#545968","divSz":4.0,"pt":"LAYOUT_DEFAULT"},"child1":"VolPnL","child2":"Div9","dir":"v","locked":false,"offset":0.13427,"upid":"Div8"}},{"portletBuilderId":"div","portletConfig":{"amiPanelId":"Div9","amiStyle":{"pt":"LAYOUT_DEFAULT"},"child1":"Div10","child2":"Div14","dir":"h","locked":false,"offset":0.31906,"upid":"Div9"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":71},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"EURIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vega Risks"},"upid":"EURIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":192},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"fm":"Price","fw":false,"id":"Price","location":2,"tl":"Price","tp":"price","width":80},{"fm":"ContractValue","fw":false,"id":"ContractValue","location":3,"tl":"Contract Value","tp":"numeric","width":98},{"fm":"PriceUSD","fw":false,"id":"PriceUSD","location":4,"tl":"Price (USD)","tp":"price","width":98},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne*100,2)","fw":false,"hs":"","id":"DeltaTMinusOne","location":5,"tl":"Delta T-1","tooltip":"","tp":"text","width":62},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"Equities","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"Equities","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:Equities"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"Equities"},"upid":"Equities","varTypes":{"ContractValue":"Double","Currency":"String","DeltaTMinusOne":"Double","Price":"Double","PriceUSD":"Double","Ticker":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":199},{"fm":"EquityDelta","fw":false,"id":"EquityDelta","location":1,"tl":"Equity Delta","tp":"numeric","width":109},{"fm":"PnL","fw":false,"id":"PnL","location":2,"tl":"Pn L","tp":"numeric","width":79},{"fm":"Size","fw":false,"id":"Size","location":3,"pc":0,"tl":"Size","tp":"numeric","width":84},{"id":"D","width":100}],"amiPanelId":"EquitiesAgg","amiStyle":{"fontSz":15.0,"pdBdrSzPx":7.0,"pt":"LAYOUT_DEFAULT","rowHt":31.0,"titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"EquitiesPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"EquitiesAgg","dmtbid":["EquitiesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":true,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesAgg","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"EquitiesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.03669724770642202,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"EquitiesAgg\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"EquitiesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":358,"n":"EquitiesGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL </div>","snap":20,"upid":"EquitiesHtml"}},{"portletBuilderId":"Amirealtimeaggtable","portletConfig":{"aggVisOnly":false,"amiCols":[{"ei":"","eof":"","fm":"sum(EquityDelta)","fw":false,"hs":"","id":"CommDelta","location":1,"pc":4,"tl":"Equity Delta","tooltip":"","tp":"numeric","width":80},{"fm":"sum(PnL)","fw":false,"id":"PnL","location":2,"tl":"PnL","tp":"numeric","width":80},{"ei":"","eof":"","fm":"sum(Size)","fw":false,"hs":"","id":"Size","location":3,"pc":1,"tl":"Amount","tooltip":"","tp":"numeric","width":116},{"id":"#0","width":88}],"amiGroupCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"sy":"\"bold\"","tl":"Ticker","tp":"text","width":163}],"amiPanelId":"EquitiesPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL By Ticker","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"PnL By Ticker"},"upid":"EquitiesPnL","varTypes":{"CommDelta":"Double","EquityDelta":"Double","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Ticker","fw":false,"id":"Ticker","location":0,"tl":"Ticker","tp":"text","width":174},{"ei":"","eof":"","fg":"colorDisplay((double)Size)","fm":"numberDisplay((double)Size,0)","fw":false,"hs":"","id":"Size","location":1,"pc":0,"tl":"Size","tooltip":"","tp":"text","width":96},{"ei":"","eof":"","fg":"colorDisplay((double)EquityDelta)","fm":"numberDisplay((double)EquityDelta,4)","fw":false,"hs":"","id":"EquityDelta","location":2,"tl":"Equity Delta","tooltip":"","tp":"text","width":115},{"ei":"","eof":"","fm":"numberDisplay((double)PnL,4)","fw":false,"hs":"","id":"PnL","location":3,"sy":"colorDisplay((double)PnL)","tl":"PnL","tooltip":"","tp":"text","width":91},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":91}],"amiPanelId":"EquitiesPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Ticker","order":"asc"}],"titlePnl":{"title":"EquitiesPnL"},"upid":"EquitiesPnLPNL","varTypes":{"EquityDelta":"Double","Name":"String","PnL":"Double","Size":"Integer","Ticker":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":98},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":55},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":88},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":58},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":112},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":67},{"ei":"","eof":"","fg":"colorDisplay((double)amount)","fm":"numberDisplay((double)amount,0)","fw":false,"hs":"","id":"amount","location":11,"pc":0,"tl":"Amount","tooltip":"","tp":"text","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"EquitiesRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"EquitiesRawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:EquitiesRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"EquitiesRawRisk"},"upid":"EquitiesRawRisk","varTypes":{"Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Underlying Currency":"String","amount":"Integer","positionType":"String"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":40},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":40},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":30},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":69},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":62},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":57},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":60},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":55},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":40},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"FXDV01PnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXDV01PnL","dmtbid":["FXDV01PnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":84},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear,4)","fw":false,"hs":"\"center\"","id":"y","location":7,"pc":0,"sy":"\"center\"","tl":"5Y","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01PnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01PnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01PnL"},"upid":"FXDV01PnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":100},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":100},{"fm":"Currency","fw":false,"id":"Currency","location":2,"tl":"Currency","tp":"text","width":100},{"fm":"`Settlement Currency`","fw":false,"id":"Settlement_Currency","location":3,"tl":"Settlement Currency","tp":"text","width":133},{"fm":"`Underlying Currency`","fw":false,"id":"Underlying_Currency","location":4,"tl":"Underlying Currency","tp":"text","width":133},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":100},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":100},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":100},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":100},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":100},{"fm":"Total","fw":false,"id":"Total","location":11,"tl":"Total","tp":"numeric","width":47},{"fm":"`1M`","fw":false,"id":"_1M","location":12,"tl":"1M","tp":"numeric","width":62},{"fm":"`3M`","fw":false,"id":"_3M","location":13,"tl":"3M","tp":"numeric","width":80},{"fm":"`6M`","fw":false,"id":"_6M","location":14,"tl":"6M","tp":"numeric","width":64},{"fm":"`12M`","fw":false,"id":"_12M","location":15,"tl":"12M","tp":"numeric","width":60},{"fm":"`3Y`","fw":false,"id":"_3Y","location":16,"tl":"3Y","tp":"numeric","width":80},{"fm":"`5Y`","fw":false,"id":"_5Y","location":17,"tl":"5Y","tp":"numeric","width":80},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXDV01RawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01RawRisk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01RawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXDV01RawRisk"},"upid":"FXDV01RawRisk","varTypes":{"12M":"Float","1M":"Float","3M":"Float","3Y":"Float","5Y":"Float","6M":"Float","Book":"String","Country":"String","Currency":"String","Exchange":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","Total":"Float","Underlying Currency":"String","positionType":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":87},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":7,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"FXDV01RisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDV01Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXDV01Risks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"FXDV01Risks"},"upid":"FXDV01RisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double","Total":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":50},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":50},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":46},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":46},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":46},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":46},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":46},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":46},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":46},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":62}],"amiPanelId":"FXDelta","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXDelta","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXDelta"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"FXDelta"},"upid":"FXDelta","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"FXHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":"layout.getDatamodel(\"FXPnL\").reprocess();","linkedVariables":[],"name":"onChange"}]},"dme":"\"Portfolio Manager\"","dmid":"FXPivotOptions","dmtbid":"FXPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By","leftPosPx":1316,"n":"FXGroupBy","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL </div>","snap":20,"upid":"FXHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":57},{"fm":"PM2","fw":false,"id":"PM2","location":1,"tl":"PM2","tp":"numeric","width":57},{"fm":"PM1","fw":false,"id":"PM1","location":2,"tl":"PM1","tp":"numeric","width":50},{"fm":"PM4","fw":false,"id":"PM4","location":3,"tl":"PM4","tp":"numeric","width":50},{"fm":"PM3","fw":false,"id":"PM3","location":4,"tl":"PM3","tp":"numeric","width":50},{"fm":"PM6","fw":false,"id":"PM6","location":5,"tl":"PM6","tp":"numeric","width":50},{"fm":"PM11","fw":false,"id":"PM11","location":6,"tl":"Pm11","tp":"numeric","width":50},{"fm":"PM5","fw":false,"id":"PM5","location":7,"tl":"PM5","tp":"numeric","width":50},{"fm":"PM10","fw":false,"id":"PM10","location":8,"tl":"Pm10","tp":"numeric","width":50},{"fm":"PM8","fw":false,"id":"PM8","location":9,"tl":"PM8","tp":"numeric","width":50},{"fm":"PM7","fw":false,"id":"PM7","location":10,"tl":"PM7","tp":"numeric","width":50},{"fm":"PM9","fw":false,"id":"PM9","location":11,"tl":"PM9","tp":"numeric","width":50},{"id":"D","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":73}],"amiPanelId":"FXPnL","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"PnL","cods":false,"curtimeUpdateFrequency":1000,"dm":[{"dmadn":"FXPnL","dmtbid":["FXPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL"},"upid":"FXPnL","varTypes":{"Currency":"String","PM1":"Double","PM10":"Double","PM11":"Double","PM2":"Double","PM3":"Double","PM4":"Double","PM5":"Double","PM6":"Double","PM7":"Double","PM8":"Double","PM9":"Double","Total":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"center\"","id":"PnL","location":1,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"text","width":78},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Name","fw":false,"id":"name","pc":0,"tl":"Name","tp":"text","width":84}],"amiPanelId":"FXPnLPNL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FXPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FXPnL"},"upid":"Table16","varTypes":{"Currency":"String","Name":"String","PnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":211},{"fm":"Country","fw":false,"id":"Country","location":1,"tl":"Country","tp":"text","width":87},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"","id":"Currency","location":2,"tl":"Ccy","tooltip":"","tp":"text","width":77},{"ei":"","eof":"","fm":"`Settlement Currency`","fw":false,"hs":"","id":"Settlement_Currency","location":3,"tl":"Settlement Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"`Underlying Currency`","fw":false,"hs":"","id":"Underlying_Currency","location":4,"tl":"Underlying Ccy","tooltip":"","tp":"text","width":98},{"ei":"","eof":"","fm":"positionType","fw":false,"hs":"","id":"positionType","location":5,"tl":"Position Type","tooltip":"","tp":"text","width":154},{"fm":"Portfolio","fw":false,"id":"Portfolio","location":6,"tl":"Portfolio","tp":"text","width":57},{"fm":"Strategy","fw":false,"id":"Strategy","location":7,"tl":"Strategy","tp":"text","width":81},{"fm":"`Sub Strategy`","fw":false,"id":"Sub_Strategy","location":8,"tl":"Sub Strategy","tp":"text","width":85},{"fm":"Book","fw":false,"id":"Book","location":9,"tl":"Book","tp":"text","width":81},{"fm":"Exchange","fw":false,"id":"Exchange","location":10,"tl":"Exchange","tp":"text","width":77},{"ei":"","eof":"","fg":"colorDisplay((double)AUD)","fm":"numberDisplay((double)AUD,4)","fw":false,"hs":"","id":"AUD","location":11,"tl":"AUD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)BRL)","fm":"numberDisplay((double)BRL,4)","fw":false,"hs":"","id":"BRL","location":12,"tl":"BRL","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CHF)","fm":"numberDisplay((double)CHF,4)","fw":false,"hs":"","id":"CHF","location":13,"tl":"CHF","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CLP)","fm":"numberDisplay((double)CLP,4)","fw":false,"hs":"","id":"CLP","location":14,"tl":"CLP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)CNH)","fm":"numberDisplay((double)CNH,4)","fw":false,"hs":"","id":"CNH","location":15,"tl":"CNH","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fm":"numberDisplay((double)CNY,4)","fw":false,"hs":"","id":"CNY","location":16,"sy":"colorDisplay((double)CNY)","tl":"CNY","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)EUR)","fm":"numberDisplay((double)EUR,4)","fw":false,"hs":"","id":"EUR","location":17,"tl":"EUR","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)GBP)","fm":"numberDisplay((double)GBP,4)","fw":false,"hs":"","id":"GBP","location":18,"tl":"GBP","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)HKD)","fm":"numberDisplay((double)HKD,4)","fw":false,"hs":"","id":"HKD","location":19,"tl":"HKD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)INR)","fm":"numberDisplay((double)INR,4)","fw":false,"hs":"","id":"INR","location":20,"tl":"INR","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay((double)JPY)","fm":"numberDisplay((double)JPY,4)","fw":false,"hs":"","id":"JPY","location":21,"tl":"JPY","tooltip":"","tp":"text","width":68},{"ei":"","eof":"","fg":"colorDisplay((double)KRW)","fm":"numberDisplay((double)KRW, 4)","fw":false,"hs":"","id":"KRW","location":22,"tl":"KRW","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)NZD)","fm":"numberDisplay((double)NZD,4)","fw":false,"hs":"","id":"NZD","location":23,"tl":"NZD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)TWD)","fm":"numberDisplay((double)TWD,4)","fw":false,"hs":"","id":"TWD","location":24,"tl":"TWD","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay((double)Total)","fm":"numberDisplay((double)Total,4)","fw":false,"hs":"","id":"Total","location":25,"tl":"Total","tooltip":"","tp":"text","width":91},{"ei":"","eof":"","fg":"colorDisplay((double)USD)","fm":"numberDisplay((double)USD,4)","fw":false,"hs":"","id":"USD","location":26,"tl":"USD","tooltip":"","tp":"text","width":46},{"ei":"","eof":"","fg":"colorDisplay((double)ZAR)","fm":"numberDisplay((double)ZAR,4)","fw":false,"hs":"","id":"ZAR","location":27,"tl":"ZAR","tooltip":"","tp":"text","width":40},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"`Portfolio Manager`","fw":false,"id":"Portfolio_Manager","tl":"Portfolio Manager","tp":"text","width":119}],"amiPanelId":"FXRawRisk","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"FX Raw Risk","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FXRawRisk"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"FX Raw Risk"},"upid":"FXRawRisk","varTypes":{"AUD":"String","BRL":"String","Book":"String","CHF":"String","CLP":"String","CNH":"String","CNY":"String","Country":"String","Currency":"String","EUR":"String","Exchange":"String","GBP":"String","HKD":"String","INR":"String","JPY":"String","KRW":"String","NZD":"String","Name":"String","Portfolio":"String","Portfolio Manager":"String","Settlement Currency":"String","Strategy":"String","Sub Strategy":"String","TWD":"String","Total":"Float","USD":"String","Underlying Currency":"String","ZAR":"String","positionType":"String"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html1","amiStyle":{"bgCl":"#4f5360","pdBdrSzPx":0.0,"pdShadowSzPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.82,"disabled":true,"dme":"\"\"","l":"","leftPosPx":40,"n":"RiskMetricTimestamp","rightPosPct":0.05025125628140704,"style":{"fldBgCl":"#4f5360","fldBorderWd":0.0,"fldFontSz":13.0,"fontCl":"#bcbcbc","pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"zidx":1},{"callbacks":{"entries":[{"amiscript":["FileSystem fs = session.getFileSystem();\n","String fileName = \"${fs.getWorkingDirectory()}/resources/RiskBreakdown.xlsx\";\n","\n","\n","Binary excelBinary = fs.readBinaryFile(fileName);\n","SpreadSheetBuilder builder = new SpreadSheetBuilder();\n","builder.loadExistingSheets(excelBinary);\n","\n","// use ds=\"AMI\" execute truncate PortfolioManagers; //PMCategory is the persist for categories\n","\n","/////////////\n","// FX DV01 //\n","/////////////\n","SpreadSheetFlexsheet flex = builder.getWorksheet(\"FX DV01 By Tenor position\");\n","//dynamic row get\n","table columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","row r = columnFinderTable.getRow(0);\n","int startColumn = 0;\n","int endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"5Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","int endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","table t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE FXDV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE FXDV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`1M`)/1000 as `1M`, sum(`3M`)/1000 as `3M`, sum(`6M`)/1000 as `6M`, sum(`12M`)/1000 as `12M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y` from FXDV01RawRisk where `Underlying Currency` != \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE FXDV01Agg as select *, (`1M` + `3M` + `6M` + `12M` + `3Y` + `5Y`) as Total from FXDV01Agg;\n","\n","use ds=\"AMI\" execute truncate XccyRates, FXDV01Risks;\n","t = select * from FXDV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into FXDV01Risks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"1M\")}, ${r.get(\"3M\")}, ${r.get(\"6M\")}, ${r.get(\"12M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"Total\")});\n","  \n","t = select `Settlement Currency`, `Portfolio Manager` from FXDV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into XccyRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from FXDV01RawRisk;\n","string createBackend = describe table FXDV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists FXDV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXDV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXDV01Agg, FXDV01RawRisk;\n","\n","//////////\n","// DV01 //\n","//////////\n","flex = builder.getWorksheet(\"DV01 By Tenor position\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"20Y\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE DV01RawRisk as select * from t where Name != \"Total\";\n","CREATE TABLE DV01Agg as select `Portfolio Manager`, `Settlement Currency`, sum(`12M`)/1000 as `12M`, sum(`24M`)/1000 as `24M`, sum(`3Y`)/1000 as `3Y`, sum(`5Y`)/1000 as `5Y`, sum(`10Y`)/1000 as `10Y`, sum(`20Y`)/1000 as `20Y` from DV01RawRisk where `Underlying Currency` == \"\" group by `Portfolio Manager`, `Settlement Currency`;\n","CREATE TABLE DV01Agg as select *, (`12M` + `24M` + `3Y` + `5Y` + `10Y` + `20Y`) as Total from DV01Agg;\n","\n","use ds=\"AMI\" execute truncate IRSRisks, IRSRates;\n","t = select * from DV01Agg;\n","for (row r : t)\n","  use ds=\"AMI\" execute insert into IRSRisks values (\"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"Settlement Currency\")}\", ${r.get(\"12M\")}, ${r.get(\"24M\")}, ${r.get(\"3Y\")}, ${r.get(\"5Y\")}, ${r.get(\"10Y\")}, ${r.get(\"20Y\")}, ${r.get(\"Total\")});\n","t = select `Settlement Currency`, `Portfolio Manager` from DV01Agg group by `Settlement Currency`;\n","for (row r : t){\n","  use ds=\"AMI\" execute insert into FX (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into IRSRates (Currency) values (\"${r.get(\"Settlement Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","t = select * from DV01RawRisk;\n","createBackend = describe table DV01RawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists DV01RawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO DV01RawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"`${s}`,\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","drop table DV01Agg, DV01RawRisk;\n","\n","//////////\n","//  FX  //\n","//////////\n","flex = builder.getWorksheet(\"FX Sensitivities and Stress \");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:AZ19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","String endString;\n","boolean startFlag = false;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\"){\n","    startColumn = i;\n","    startFlag = true;\n","  }\n","  if (startFlag && (s == null || s == \"\")){\n","    endColumn = i - 1;\n","    break;\n","  }\n","}\n","startColumn += (int)('A');\n","if (endColumn + (int)('A') > (int)('Z')){\n","  endColumn -= 26;\n","  endColumn += (int)('A');\n","  endString = \"A\" + (Character)endColumn;\n","}\n","else{\n","  endColumn += (int)('A');\n","  endString = (Character)endColumn;\n","}\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${endString}${endRow}\", true, null);\n","CREATE TABLE FXRawRisk as select * from t;\n","boolean currStartFlag = false;\n","list currColNames = new list();\n","for (string colName : t.getColumnNames()){\n","  if (!currStartFlag && colName == \"Total\"){\n","    currStartFlag = true;\n","    continue;\n","  }\n","  if (currStartFlag)\n","    currColNames.add(colName);\n","}\n","string sumQuery = buildSumAggQuery(currColNames);\n","CREATE TABLE FXAgg as select `Portfolio Manager`, ${sumQuery} from FXRawRisk where Name != \"Total\" group by `Portfolio Manager`;\n","\n","createBackend = describe table FXRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute truncate FXDelta;\n","use ds=\"AMI\" execute drop table if exists FXRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","t = select * from FXAgg;\n","for (row r : t){\n","  for (String s : currColNames){\n","    Double o = r.get(s);\n","    use ds=\"AMI\" execute insert into FXDelta values (\"${s}\", \"${r.get(\"Portfolio Manager\")}\", ${o/1000000.0});\n","    use ds=\"AMI\" execute insert into FX (Currency) values (\"${s}\");\n","  }\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","}\n","\n","t = select * from FXRawRisk where Name != \"Total\";\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO FXRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","drop table FXAgg, FXRawRisk;\n","\n","/////////////////\n","// Commodities //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Comm Sensitivities and Stres\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE CommRawRisk as select * from t where positionType ~~ \"^Commodity\";\n","USE ds=\"AMI\" execute truncate CommoditiesData, CommoditiesTickerSize;\n","t = select * from CommRawRisk;\n","\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO CommoditiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into CommoditiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table CommRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists CommRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO CommRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","\n","DROP TABLE CommRawRisk;\n","\n","/////////////////\n","//  Equities   //\n","/////////////////\n","//get raw table\n","flex = builder.getWorksheet(\"Equity Sensitivities positio\");\n","//dynamic row get\n","columnFinderTable = flex.getValues(\"A19:Z19\", false, null);\n","r = columnFinderTable.getRow(0);\n","startColumn = 0;\n","endColumn = 0;\n","for (int i = 0; i < r.size(); ++i){\n","  string s = r.getValueAt(i);\n","  if (s == \"Name\")\n","    startColumn = i;\n","  if (s == \"amount\")\n","    endColumn = i;\n","}\n","startColumn += (int)('A');\n","endColumn += (int)('A');\n","endRow = 20;\n","while (true) {\n","  String s = flex.getValue(\"${(Character)startColumn}${endRow + 1}\");\n","  if (s == \"\" || s == null)\n","    break;\n","  endRow++;\n","}\n","t = flex.getValues(\"${(Character)startColumn}19:${(Character)endColumn}${endRow}\", true, null);\n","CREATE TABLE EquitiesRawRisk as select * from t where positionType ~~ \"^Equity\";\n","USE ds=\"AMI\" execute truncate EquitiesData, EquitiesTickerSize;\n","t = select * from EquitiesRawRisk;\n","for (row r : t){\n","  use ds=\"AMI\" execute INSERT INTO EquitiesData (Ticker, Currency) values (\"${r.getValue(\"Name\")}\", \"${r.getValue(\"Currency\")}\");\n","  use ds=\"AMI\" execute insert into PMCategory (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into PortfolioManagers (Name) values (\"${r.get(\"Portfolio Manager\")}\");\n","  use ds=\"AMI\" execute insert into EquitiesTickerSize (Ticker, PortfolioManager, Size) values (\"${r.get(\"Name\")}\", \"${r.get(\"Portfolio Manager\")}\", \"${r.get(\"amount\")}\");\n","}\n","createBackend = describe table EquitiesRawRisk;\n","createBackend = \"CREATE PUBLIC\" + strStrip(createBackend, \"CREATE\", \"\");\n","use ds=\"AMI\" execute drop table if exists EquitiesRawRisk;\n","use ds=\"AMI\" execute ${createBackend};\n","\n","for (row r : t){\n","  string insertQuery = \" values (\";\n","  string insertOrder = \"INSERT INTO EquitiesRawRisk (\";\n","  for (String s : r.getKeys()){\n","    insertOrder += \"${s},\";\n","    Object o = r.get(s);\n","    if (o.getClassName() == \"String\")\n","      insertQuery += \"\\\"${r.get(s)}\\\",\";\n","    else\n","      insertQuery += \"${r.get(s)},\";\n","  }\n","  insertQuery = strStrip(insertQuery, \"\", \",\") + \")\";\n","  insertOrder = strStrip(insertOrder, \"\", \",\") + \")\";\n","  use ds=\"AMI\" execute ${insertOrder}${insertQuery};\n","}\n","DROP TABLE EquitiesRawRisk;\n","\n","// set PM category to \"undefined\" if any\n","use ds=\"AMI\" execute update PMCategory set Category = \"undefined\" where Category == null;\n","use ds=\"AMI\" execute update PMCategory set Category = \"Equities\" where Name IN (\"PM8\", \"PM9\", \"PM10\", \"PM11\", \"PM12\");\n","use ds=\"AMI\" execute insert into PortfolioManagers from select P.Name, C.Category from PortfolioManagers as P left join PMCategory as C on P.Name == C.Name;\n","\n","// get timestamp from excel\n","t = flex.getValues(\"${(Character)(startColumn-1)}1:${(Character)startColumn}19\", false, null);\n","string timestampStr = select col1 from t where col0 == \"Submitted\";\n","use ds=\"AMI\" execute truncate RiskMetricsTimestamp;\n","use ds=\"AMI\" execute insert into RiskMetricsTimestamp values (\"${timestampStr}\");"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Upload Risk Metric File\"","heightPx":20,"l":"","leftPosPx":40,"n":"button","style":{"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":200,"widthPx":320,"zidx":2},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute disable timer RatesSimulator;\n","use ds=\"AMI\" execute disable timer FxSimulator;\n","use ds=\"AMI\" execute disable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute disable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Disable Timers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button1","style":{"fldBgCl":"#ba5151","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":160,"widthPx":320,"zidx":3},{"callbacks":{"entries":[{"amiscript":["use ds=\"AMI\" execute enable timer RatesSimulator;\n","use ds=\"AMI\" execute enable timer FxSimulator;\n","use ds=\"AMI\" execute enable timer CommoditiesSimulator;\n","use ds=\"AMI\" execute enable timer EquitiesSimulator;"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"EnableTimers\"","heightPx":20,"l":"","leftPosPx":40,"n":"button2","style":{"fldBgCl":"#85d159","pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":120,"widthPx":320,"zidx":4}],"snap":20,"upid":"Html1"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html10","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html10"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html11","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html11"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html12","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Risks </div>","snap":20,"upid":"Html12"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html13","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 PnL </div>","snap":20,"upid":"Html13"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html14","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 Risks </div>","snap":20,"upid":"Html14"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html15","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities </div>","snap":20,"upid":"Html15"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html16","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL By Ticker </div>","snap":20,"upid":"Html16"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html17","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html17"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html18","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> PnL Breakdown (By PM) </div>","snap":20,"upid":"Html18"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html19","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Sensitivities </div>","snap":20,"upid":"Html19"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html2","amiStyle":{"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"snap":20,"upid":"Html2"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html20","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX PnL Breakdown</div>","snap":20,"upid":"Html20"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html21","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> DV01 By Tenor Position </div>","snap":20,"upid":"Html21"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html22","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX DV01 By Tenor Position </div>","snap":20,"upid":"Html22"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html23","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities PnL Breakdown </div>","snap":20,"upid":"Html23"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html24","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Commodities Sensitivities </div>","snap":20,"upid":"Html24"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html25","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equities PnL Breakdown </div>","snap":20,"upid":"Html25"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html26","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Equity Sensitivities </div>","snap":20,"upid":"Html26"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html3","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:center'> Total PnL </div>","snap":20,"upid":"Html3"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html4","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Summary </div>","snap":20,"upid":"Html4"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html5","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX </div>","snap":20,"upid":"Html5"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html6","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> FX Delta </div>","snap":20,"upid":"Html6"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html7","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS Rates </div>","snap":20,"upid":"Html7"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html8","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> Xccy Rates </div>","snap":20,"upid":"Html8"}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"Html9","amiStyle":{"bgCl":"#3c404c","pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start'> IRS PnL </div>","snap":20,"upid":"Html9"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Total","fw":false,"id":"Total","location":0,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"MXN","fw":false,"id":"MXN","tl":"MXN","tp":"numeric","width":50},{"fm":"PHP","fw":false,"id":"PHP","tl":"PHP","tp":"numeric","width":40},{"fm":"COP","fw":false,"id":"COP","tl":"COP","tp":"numeric","width":56},{"fm":"CAD","fw":false,"id":"CAD","tl":"CAD","tp":"numeric","width":40},{"fm":"MYR","fw":false,"id":"MYR","tl":"MYR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"Name","fw":false,"id":"Name","tl":"_","tp":"text","width":28},{"fm":"THB","fw":false,"id":"THB","tl":"THB","tp":"numeric","width":40},{"fm":"IDR","fw":false,"id":"IDR","tl":"IDR","tp":"numeric","width":40},{"ei":"","eof":"","fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":62},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":52},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":58},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":62},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":50},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"SGD","fw":false,"id":"SGD","tl":"SGD","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"IRSPnL","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"IRSPnL","dmtbid":["IRSPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnL","varTypes":{"AUD":"Double","BRL":"Double","CAD":"Double","CLP":"Double","CNH":"Double","CNY":"Double","COP":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","IDR":"Double","INR":"Double","JPY":"Double","KRW":"Double","MXN":"Double","MYR":"Double","NZD":"Double","Name":"String","PHP":"Double","PLN":"Double","SGD":"Double","THB":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"name","location":0,"pc":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"\"center\"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"tl":"Ccy","tooltip":"","tp":"text","width":70},{"ei":"","eof":"","fg":"colorDisplay((double)OneYear)","fm":"numberDisplay((double)OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":63},{"ei":"","eof":"","fg":"colorDisplay((double)TwoYear)","fm":"numberDisplay((double)TwoYear,4)","fw":false,"hs":"\"center\"","id":"TwoYear","location":3,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":56},{"ei":"","eof":"","fg":"colorDisplay((double)ThreeYear)","fm":"numberDisplay((double)ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":4,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fg":"colorDisplay((double)FiveYear)","fm":"numberDisplay((double)FiveYear,4)","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":44},{"ei":"","eof":"","fg":"numberDisplay(TenYear)","fm":"numberDisplay(TenYear,4)","fw":false,"hs":"\"center\"","id":"TenYear","location":6,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear,4)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":7,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"numberDisplayTotal4","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSPnLPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSPnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"name","order":"asc"}],"titlePnl":{"title":"IRSPnL"},"upid":"IRSPnLPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"\"center\"","id":"Name","location":0,"sr":"sortPM(Name)","sy":"\"center\"","tl":"Name","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":1,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":78},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth,4)","fw":false,"hs":"\"center\"","id":"OneMonth","location":2,"sy":"\"center\"","tl":"1m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 4)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":3,"sy":"\"center\"","tl":"3m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth,4)","fw":false,"hs":"\"center\"","id":"SixMonth","location":4,"sy":"\"center\"","tl":"6m","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear,4)","fw":false,"hs":"\"center\"","id":"OneYear","location":5,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear,4)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":6,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":54},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":7,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":54},{"ei":"","eof":"","fg":"colorDisplay(Total)","fm":"numberDisplay(Total,4)","fw":false,"hs":"\"center\"","id":"total","location":8,"pc":0,"sy":"\"center\"","tl":"Total","tooltip":"","tp":"text","width":54},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"IRSRisksPNL1","amiStyle":{"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"IRSRisks","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["TablePanel thisPanel = this.getPanel();\n","if (thisPanel.getSelectedRows().size() != 1) \n","  return;\n","row selected = thisPanel.getSelectedRows().get(0);\n","string nameFilter = selected.getValue(\"Name\");\n","string currFilter = selected.getValue(\"Currency\");\n","\n","TablePanel tp = layout.getPanel(\"DV01_RM\");\n","tp.setFilter(\"Portfolio Manager\", nameFilter);\n","tp.setFilter(\"Settlement Currency\", currFilter);\n","tp.bringToFront();"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Show Breakdown\"","icon":"","id":"showBreakdown","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"IRSRisks"},"upid":"IRSRisksPNL1","varTypes":{"Currency":"String","FiveYear":"Double","Name":"String","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","Total":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":68},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":51},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":49},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":51},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":48},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":51},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLEURPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"EUR IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"EUR IR Vol PnL"},"upid":"IRVolPnLEURPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":61},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":45},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":42},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":50},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLJPYPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"JPY IR Vol PnL"},"upid":"IRVolPnLJPYPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":55},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":45},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":47},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":55},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":45},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":42},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":52},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":45},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":38},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":47},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"IRVolPnLUSDPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vol PnL","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRVolPnL"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"USD IR Vol PnL"},"upid":"IRVolPnLUSDPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":56},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":50},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":47},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":53},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":44},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"JPYIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"JPY IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"JPY IR Vega Risks"},"upid":"JPYIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"ModifyPM","amiStyle":{"pt":"LAYOUT_DEFAULT"},"fields":[{"heightPx":25,"l":"Category","leftPosPx":150,"n":"categoryName","style":{"fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":7.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":160,"widthPx":200,"zidx":3},{"callbacks":{"entries":[{"amiscript":["FormPanel fp = this.getPanel();\n","string catName = fp.getFieldValue(\"categoryName\");\n","string pmName = fp.getFieldValue(\"pmName\");\n","\n","use ds=\"AMI\" execute update PMCategory set Category = \"${catName}\" where Name == \"${pmName}\";"],"linkedVariables":[],"name":"onChange"}]},"hCenterOffsetPct":-0.0049382716049382715,"heightPx":30,"l":"Modify","leftPosPct":0.49506172839506174,"leftPosPx":-100,"n":"mdfyBtn","style":{"fldBgCl":"#668e3e","fldBorderRad":5.0,"pt":"LAYOUT_DEFAULT"},"t":"buttonField","topPosPx":220,"widthPx":200,"zidx":4},{"disabled":true,"hCenterOffsetPct":0.0,"heightPx":20,"l":"PM:","leftPosPct":0.5,"leftPosPx":-60,"n":"pmName","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontCl":"#ffb200","fldFontSz":22.0,"fldLblSide":"left","fontSz":23.0,"lblPd":6.0,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":100,"widthPx":120,"zidx":2},{"disabled":true,"dme":"\"Modify PM\"","hCenterOffsetPct":0.0,"heightPx":20,"l":"Modify PM","leftPosPct":0.5,"leftPosPx":-47,"n":"text","style":{"fldBdrCl":"#00000000","fldBgCl":"#00000000","fldFontSz":20.0,"fldLblStatus":false,"pt":"LAYOUT_DEFAULT"},"t":"textField","topPosPx":20,"widthPx":95,"zidx":1}],"snap":20,"upid":"ModifyPM"}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":120},{"fm":"Category","fw":false,"id":"Category","location":1,"tl":"Category","tp":"text","width":100},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PMCategory","amiStyle":{"pt":"LAYOUT_DEFAULT"},"amiTitle":"PMCategory","callbacks":{"entries":[{"amiscript":["List selected = this.getSelectedRows();\n","\n","if (selected.size() == 1){\n","  FormPanel fp = layout.getPanel(\"ModifyPM\");\n","  FormTextField pmName = fp.getField(\"pmName\");\n","  FormTextField pmCat = fp.getField(\"categoryName\");\n","  row r = selected.get(0);\n","  pmName.setValue(r.get(\"Name\"));\n","  pmCat.setValue(r.get(\"Category\"));\n","}"],"linkedVariables":[],"name":"onSelected"}]},"curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PMCategory"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"titlePnl":{"title":"PMCategory"},"upid":"PMCategory","varTypes":{"Category":"String","Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center, underline\"","id":"Curr","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":45},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, center\"","id":"Spot","location":1,"pc":4,"sy":"\"center\"","tl":"Spot","tooltip":"","tp":"numeric","width":76},{"ei":"","eof":"","fg":"colorDisplay(DeltaTMinusOne)","fm":"numberDisplayPct(DeltaTMinusOne,2)","fw":false,"hs":"\"underline, center\"","id":"DeltaTMinusOne","location":2,"sy":"\"center\"","tl":"Delta T-1","tooltip":"","tp":"text","width":58},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL1","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Curr","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table1","varTypes":{"Currency":"String","DeltaTMinusOne":"Double","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":97},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL10","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table10","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"sr":"OneYear","sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwoYear)","fm":"numberDisplay(TwoYear,2)","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":4,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TenYear)","fm":"numberDisplay(TenYear,2)","fw":false,"hs":"\"center\"","id":"TenYear","location":5,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(TwentyYear)","fm":"numberDisplay(TwentyYear, 2)","fw":false,"hs":"\"center\"","id":"TwentyYear","location":6,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL2","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":0.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"IRS Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:IRSRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"IRS Rates"},"upid":"Table2","varTypes":{"Currency":"String","FiveYear":"Double","OneYear":"Double","TenYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"center\"","id":"Currency","location":0,"sy":"\"center\"","tl":"Ccy","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fg":"colorDisplay(OneMonth)","fm":"numberDisplay(OneMonth, 2)","fw":false,"hs":"\"center\"","id":"OneMonth","location":1,"sy":"\"center\"","tl":"1M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeMonth)","fm":"numberDisplay(ThreeMonth, 2)","fw":false,"hs":"\"center\"","id":"ThreeMonth","location":2,"sy":"\"center\"","tl":"3M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(SixMonth)","fm":"numberDisplay(SixMonth, 2)","fw":false,"hs":"\"center\"","id":"SixMonth","location":3,"sy":"\"center\"","tl":"6M","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(OneYear)","fm":"numberDisplay(OneYear, 2)","fw":false,"hs":"\"center\"","id":"OneYear","location":4,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(ThreeYear)","fm":"numberDisplay(ThreeYear, 2)","fw":false,"hs":"\"center\"","id":"ThreeYear","location":5,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"text","width":41},{"ei":"","eof":"","fg":"colorDisplay(FiveYear)","fm":"numberDisplay(FiveYear, 2)","fw":false,"hs":"\"center\"","id":"FiveYear","location":6,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"text","width":41},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL3","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":20.0,"pdBdrSzPx":1.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"Xccy Rates","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:XccyRates"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"Xccy Rates"},"upid":"Table3","varTypes":{"Currency":"String","FiveYear":"Double","OneMonth":"Double","OneYear":"Double","SixMonth":"Double","ThreeMonth":"Double","ThreeYear":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Currency","fw":false,"hs":"\"underline\"","id":"Currency","location":0,"tl":"Ccy","tooltip":"","tp":"text","width":61},{"ei":"","eof":"","fm":"Spot","fw":false,"hs":"\"underline, right\"","id":"Spot","location":1,"tl":"Spot","tooltip":"","tp":"numeric","width":76},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PNL5","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":9.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"FX","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:FX"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Currency","order":"asc"}],"titlePnl":{"title":"FX"},"upid":"Table5","varTypes":{"Currency":"String","Spot":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"strBeforeLast(Category, \"PnL\", false)","fw":false,"hs":"","id":"Category","location":0,"tl":"Category","tooltip":"","tp":"text","width":80},{"ei":"","eof":"","fg":"colorDisplay(PnL)","fm":"numberDisplay(PnL,4)","fw":false,"hs":"\"right\"","id":"PnL","location":1,"sy":"\"right\"","tl":"PnL","tooltip":"","tp":"text","width":129},{"id":"D","width":100}],"amiPanelId":"PnLBreakdown","amiStyle":{"FlashMillis":0.0,"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":10.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":23.0,"pdBdrSzPx":1.0,"pdShadowCl":"#d84545","pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","rowHt":19.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","titlePnlFontSz":0.0,"vtAlign":"center"},"amiTitle":"PnL Breakdown (By PM)","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PnLBreakdown","dmtbid":["PnLBreakdown"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"PnL Breakdown (By PM)"},"upid":"PnLBreakdown","varTypes":{"Category":"String","PnL":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":0,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":75},{"id":"D","width":100}],"amiPanelId":"PnLFilter","amiStyle":{"bgCl":"#3c404c","cellBdrCl":"#555a68","cellPadHt":5.0,"fontCl":"#ffffff","fontSz":13.0,"graybarCl":"#4a4e5b","headerFontSz":0.0,"headerHt":8.0,"pdTpPx":16.0,"pt":"LAYOUT_DEFAULT","rowHt":26.0,"titlePnlAlign":"left","titlePnlFontCl":"#dee1ea","titlePnlFontSz":13.0,"vtAlign":"center"},"amiTitle":"PM Filter","callbacks":{"entries":[{"amiscript":["{\n","  set s = new set();\n","  for (Row r: this.getSelectedRows())\n","    s.add(r.getValue(\"Name\"));\n","    \n","  string whereClause = true;\n","  string whereClause2 = \"\";\n","  if (s != null && s.size() != 0) {\n","    whereClause = \"Name IN (\";\n","    whereClause2 = \"(\";\n","    for (string cond : s) {\n","      whereClause += \"\\\"${cond}\\\",\";\n","      whereClause2 += \"\\\"${cond}\\\",\";\n","    }\n","    whereClause = strStrip(whereClause, \" \", \",\");\n","    whereClause2 = strStrip(whereClause2, \" \", \",\") + \")\";\n","    whereClause += \")\";\n","  }\n","  \n","  session.setValue(\"PMFilter\", whereClause);\n","  session.setValue(\"PMFilter2\", whereClause2);\n","  // Datamodels\n","  layout.getDatamodel(\"TotalPnL\").reprocess();\n","  layout.getDatamodel(\"FXPnL\").reprocess();\n","  layout.getDatamodel(\"FXDelta\").reprocess();\n","  layout.getDatamodel(\"RatesPnL\").reprocess();\n","  layout.getDatamodel(\"IRSPnL\").reprocess();\n","  layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","  layout.getDatamodel(\"CommsAgg\").reprocess();\n","  layout.getDatamodel(\"EquitiesAgg\").reprocess();\n","  \n","  // Realtime Tables\n","  (TablePanel)(layout.getPanel(\"PnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommoditiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"CommDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnL\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquitiesPnLSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  (TablePanel)(layout.getPanel(\"EquityDeltaSummary\")).setCurrentWhere(whereClause == null ? \"\" : whereClause);\n","  \n","  List tps = new List(\"IRSPnLPNL1\", \"FXDV01PnLPNL1\", \"FXDV01RisksPNL1\", \"IRSRisksPNL1\");\n","  for (String s: tps) {\n","    TablePanel tp = layout.getPanel(s);\n","    tp.setCurrentWhere(strIs(whereClause2) ? \"Name IN ${whereClause2}\" : \"true\");\n","  }\n","  \n","  //Comms Ticker\n","  List commList = use ds=\"AMI\" execute select Ticker from Commodities where Ticker IN (SELECT Ticker from CommoditiesPnL where ${whereClause});\n","  if (commList != null && commList.size() != 0){\n","    String commClause = \"Ticker IN (\";\n","    for (string comm : commList)\n","      commClause += \"\\\"${comm}\\\",\";\n","    commClause = strStrip(commClause, \" \", \",\");\n","    commClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(commClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Commodities\")).setCurrentWhere(\"\");\n","    \n","  //Equities Ticker\n","  List equityList = use ds=\"AMI\" execute select Ticker from Equities where Ticker IN (SELECT Ticker from EquitiesPnL where ${whereClause});\n","  if (equityList != null && equityList.size() != 0){\n","    String equityClause = \"Ticker IN (\";\n","    for (string equity : equityList)\n","      equityClause += \"\\\"${equity}\\\",\";\n","    equityClause = strStrip(equityClause, \" \", \",\");\n","    equityClause += \")\";\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(equityClause);\n","  }\n","  else\n","    (TablePanel)(layout.getPanel(\"Equities\")).setCurrentWhere(\"\");\n","}"],"linkedVariables":[],"name":"onSelected"}]},"corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"PMFilter","dmtbid":["PnLFilter"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"PM Filter"},"upid":"PnLFilter","varTypes":{"Name":"String"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"fm":"Category","fw":false,"id":"Category","location":0,"tl":"Category","tp":"text","width":89},{"ei":"","eof":"","fm":"Name","fw":false,"hs":"","id":"Name","location":1,"sr":"sortPM(Name)","tl":"Name","tooltip":"","tp":"text","width":58},{"ei":"","eof":"","fg":"colorDisplay(TotalPnL)","fm":"numberDisplay(TotalPnL, 4)","fw":false,"hs":"\"center\"","id":"TotalPnL","location":2,"sy":"\"center\"","tl":"Total PnL","tooltip":"","tp":"text","width":83},{"ei":"","eof":"","fg":"colorDisplay(FXPnL)","fm":"numberDisplay(FXPnL,4)","fw":false,"hs":"\"center\"","id":"FXPnL","location":3,"sy":"\"center\"","tl":"FX","tooltip":"","tp":"text","width":92},{"ei":"","eof":"","fg":"colorDisplay(RatesPnL)","fm":"numberDisplay(RatesPnL,4)","fw":false,"hs":"\"center\"","id":"RatesPnL","location":4,"pc":2,"sy":"\"center\"","tl":"Rates","tooltip":"","tp":"text","width":82},{"ei":"","eof":"","fg":"colorDisplay(VolPnL)","fm":"numberDisplay(VolPnL,4)","fw":false,"hs":"\"center\"","id":"VolPnL","location":5,"sy":"\"center\"","tl":"Vol","tooltip":"","tp":"text","width":79},{"ei":"","eof":"","fg":"colorDisplay(CommoditiesPnL)","fm":"numberDisplay(CommoditiesPnL,4)","fw":false,"hs":"\"center\"","id":"CommoditiesPnL","location":6,"sy":"\"center\"","tl":"Commodities","tooltip":"","tp":"text","width":85},{"ei":"","eof":"","fg":"colorDisplay(EquitiesPnL)","fm":"numberDisplay(EquitiesPnL,4)","fw":false,"hs":"\"center\"","id":"EquitiesPnL","location":7,"sy":"\"center\"","tl":"Equities","tooltip":"","tp":"text","width":108},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100}],"amiPanelId":"PnLSummary","amiStyle":{"columnFilterHide":true,"pdLfPx":8.0,"pdRtPx":8.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","searchHide":true,"titlePnlAlign":"left","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Summary","curtimeUpdateFrequency":1000,"customMenu":[{"callbacks":{"entries":[{"amiscript":["FormPanel fp = layout.getPanel(\"BreakdownPNL\");\n","FormSelectField sel = fp.getField(\"PMPODSelect\");\n","TablePanel tp = this.getPanel();\n","for (Row r: tp.getSelectedRows()) {\n","  sel.getPanel().bringToFront();\n","  sel.setValue(r.get(\"Name\"));\n","  sel.invokeCallback(\"onChange\");\n","  break;\n","}"],"linkedVariables":[],"name":"onSelected"}]},"display":"\"Drilldown\"","icon":"","id":"DRILLDOWN","position":0,"status":"\"enabled\""}],"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":true,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:PnLSummary"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Name","order":"asc"}],"titlePnl":{"title":"Summary"},"upid":"PnLSummary","varTypes":{"Category":"String","CommoditiesPnL":"Double","EquitiesPnL":"Double","FXPnL":"Double","Name":"String","RatesPnL":"Double","TotalPnL":"Double","VolPnL":"Double"}}},{"portletBuilderId":"amiform","portletConfig":{"amiPanelId":"RatesHtml","amiStyle":{"bgCl":"#3c404c","pdBdrSzPx":0.0,"pdBtmPx":0.0,"pdLfPx":0.0,"pdRadBtmLfPx":0.0,"pdRadBtmRtPx":0.0,"pdRadTpLfPx":0.0,"pdRadTpRtPx":0.0,"pdRtPx":0.0,"pdShadowHzPx":-20.0,"pdShadowSzPx":0.0,"pdShadowVtPx":-20.0,"pdTpPx":0.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"fields":[{"bottomPosPct":0.0625,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (X)","leftPosPx":1040,"n":"RatesGroupByX","rightPosPct":0.20238095238095238,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":20,"zidx":2},{"bottomPosPct":0.04,"callbacks":{"entries":[{"amiscript":["layout.getDatamodel(\"IRSPnL\").reprocess();\n","layout.getDatamodel(\"FXDV01PnL\").reprocess();\n","// layout.getDatamodel(\"RatesPnL\").reprocess();\n","formatTablePanels();"],"linkedVariables":[],"name":"onChange"}]},"dme":"\"Settlement Currency\"","dmid":"RatesPivotOptions","dmtbid":"EquitiesPivotOptions","dscid":"Option","dsrt":"asc","dsvid":"Option","l":"Group By (Y)","leftPosPx":1316,"n":"RatesGroupByY","rightPosPct":0.03,"style":{"bold":true,"fldBdrCl":"#d3d9ed","fldBgCl":"#ced3e2","fldBorderRad":2.0,"fldFontCl":"#ccd2e5","fldFontSz":12.0,"fldLblAlign":"end","fldLblSide":"top","fontSz":12.0,"lblPd":2.0,"pt":"LAYOUT_DEFAULT"},"t":"selectField","topPosPx":22,"zidx":1}],"htmlTemplate2":"<div class='public_viz_title' style='margin:auto;text-align:start;margin-left:16px;margin-top:4px'> Rates PnL </div>","snap":20,"upid":"RatesHtml"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":40},{"id":"D","width":100},{"fm":"CLP","fw":false,"id":"CLP","tl":"CLP","tp":"numeric","width":46},{"fm":"ZAR","fw":false,"id":"ZAR","tl":"ZAR","tp":"numeric","width":46},{"fm":"HUF","fw":false,"id":"HUF","tl":"HUF","tp":"numeric","width":46},{"fm":"CNH","fw":false,"id":"CNH","tl":"CNH","tp":"numeric","width":40},{"fm":"CHF","fw":false,"id":"CHF","tl":"CHF","tp":"numeric","width":40},{"fm":"AUD","fw":false,"id":"AUD","tl":"AUD","tp":"numeric","width":40},{"fm":"TWD","fw":false,"id":"TWD","tl":"TWD","tp":"numeric","width":40},{"fm":"HKD","fw":false,"id":"HKD","tl":"HKD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","tl":"EUR","tp":"numeric","width":40},{"fm":"CZK","fw":false,"id":"CZK","tl":"CZK","tp":"numeric","width":40},{"fm":"INR","fw":false,"id":"INR","tl":"INR","tp":"numeric","width":40},{"fm":"CNY","fw":false,"id":"CNY","tl":"CNY","tp":"numeric","width":40},{"fm":"KRW","fw":false,"id":"KRW","tl":"KRW","tp":"numeric","width":40},{"fm":"JPY","fw":false,"id":"JPY","tl":"JPY","tp":"numeric","width":40},{"fm":"PLN","fw":false,"id":"PLN","tl":"PLN","tp":"numeric","width":40},{"fm":"GBP","fw":false,"id":"GBP","tl":"GBP","tp":"numeric","width":40},{"fm":"USD","fw":false,"id":"USD","tl":"USD","tp":"numeric","width":40},{"fm":"NZD","fw":false,"id":"NZD","tl":"NZD","tp":"numeric","width":40},{"fm":"BRL","fw":false,"id":"BRL","tl":"BRL","tp":"numeric","width":40}],"amiPanelId":"RatesPnL","amiStyle":{"pdLfPx":22.0,"pt":"LAYOUT_DEFAULT","titlePnlFontSz":0.0},"amiTitle":"RatesPnL","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"RatesPnL","dmtbid":["RatesPnL"]}],"dynamicColumns":"true","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"rtxc":"Name == \"Total\" ? \"#0000ff\" : \"\"","scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"RatesPnL"},"upid":"RatesPnL","varTypes":{"AUD":"Double","BRL":"Double","CHF":"Double","CLP":"Double","CNH":"Double","CNY":"Double","CZK":"Double","EUR":"Double","GBP":"Double","HKD":"Double","HUF":"Double","INR":"Double","JPY":"Double","KRW":"Double","NZD":"Double","Name":"String","PLN":"Double","TWD":"Double","Total":"Double","USD":"Double","ZAR":"Double"}}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs1","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true},"defaultTab":"SummaryTab","tabs":[{"child":"Div29","id":"SummaryTab","nf":"\"Summary\""},{"child":"Div1","id":"FX","nf":"\"FX\""},{"child":"Div3","id":"RatesTab","nf":"\"Rates\""},{"child":"Div8","hidden":true,"id":"VolTab","nf":"\"Vol\""},{"child":"Div17","id":"CommoditiesTab","nf":"\"Commodities\""},{"child":"Div24","id":"EquitiesTab","nf":"\"Equities\""},{"child":"Div40","id":"tab0","nf":"\"Breakdown\""}],"upid":"Tabs1"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs2","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab2","tabs":[{"child":"Div59","id":"tab2","nf":"\"DV01 By Tenor Position\""},{"child":"Div60","id":"tab1","nf":"\"FX DV01 By Tenor Position\""}],"upid":"Tabs2"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs4","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":false},"defaultTab":"tab0","tabs":[{"child":"Tabs7","id":"tab0","nf":"\"FX\""},{"child":"Tabs2","id":"tab1","nf":"\"Rates\""},{"child":"Div42","hidden":true,"id":"tab2","nf":"\"Vol\""},{"child":"Tabs6","id":"tab3","nf":"\"Commodities\""},{"child":"Tabs5","id":"tab4","nf":"\"Equities\""}],"upid":"Tabs4"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs5","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div63","id":"tab0","nf":"\"Breakdown\""},{"child":"Div64","id":"tab1","nf":"\"Equity Sensitivities\""}],"upid":"Tabs5"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs6","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div61","id":"tab0","nf":"\"Breakdown\""},{"child":"Div62","id":"tab1","nf":"\"Comm Sensitivities\""}],"upid":"Tabs6"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs7","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div58","id":"tab0","nf":"\"Breakdown\""},{"child":"Div57","id":"tab1","nf":"\"FX Sensitivities\""}],"upid":"Tabs7"}},{"portletBuilderId":"tab","portletConfig":{"amiPanelId":"Tabs8","amiStyle":{"fontSz":11.0,"htwpo":true,"pdCl":"#3c404c","pt":"LAYOUT_DEFAULT","selCl":"#efefef69","selTxtCl":"#f7f7f7","tabBdrCl":"#6a6d75","tabHt":21.0,"tabSelBdrCl":"#455175","tabSelBdrSz":3.0,"undock":true,"vt":true},"defaultTab":"tab0","tabs":[{"child":"Div51","id":"tab1","nf":"\"Risks\""},{"child":"Div6","id":"tab0","nf":"\"PnL\""}],"upid":"Tabs8"}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Category","fw":false,"hs":"\"center\"","id":"Category","location":0,"sy":"\"center\"","tl":"Category","tp":"text","width":109},{"ei":"","eof":"","fm":"TotalPnL","fw":false,"hs":"\"center\"","id":"TotalPnL","location":1,"pc":2,"sy":"\"center\"","tl":"PnL","tooltip":"","tp":"numeric","width":269},{"id":"D","width":100}],"amiPanelId":"TotalPnL","amiStyle":{"FlashMillis":0.0,"actCl":"#00000000","cellBtmPx":1.0,"columnFilterHide":true,"fontSz":15.0,"graybarCl":"#d4dbdd","headerFontSz":12.0,"headerHt":21.0,"pt":"LAYOUT_DEFAULT","rowHt":57.0,"searchHide":true,"selCl":"#00000000","titlePnlAlign":"center","titlePnlFontCl":"#f4f4f4","titlePnlFontSz":0.0},"amiTitle":"Total PnL","corId":"Category","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalPnL","dmtbid":["TotalPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"Total PnL"},"upid":"TotalPnL","varTypes":{"Category":"String","TotalPnL":"Double"}}},{"portletBuilderId":"amirealtimetable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"toSimpleTimeStr(Period)","fw":false,"id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","tl":"Period","tp":"text","width":69},{"fm":"OneYear","fw":false,"id":"OneYear","location":1,"tl":"1Y","tp":"numeric","width":40},{"fm":"TwoYear","fw":false,"id":"TwoYear","location":2,"tl":"2Y","tp":"numeric","width":42},{"fm":"ThreeYear","fw":false,"id":"ThreeYear","location":3,"tl":"3Y","tp":"numeric","width":42},{"fm":"FourYear","fw":false,"id":"FourYear","location":4,"tl":"4Y","tp":"numeric","width":35},{"fm":"FiveYear","fw":false,"id":"FiveYear","location":5,"tl":"5Y","tp":"numeric","width":32},{"fm":"SevenYear","fw":false,"id":"SevenYear","location":6,"tl":"7Y","tp":"numeric","width":41},{"fm":"TenYear","fw":false,"id":"TenYear","location":7,"tl":"10Y","tp":"numeric","width":47},{"fm":"FifteenYear","fw":false,"id":"FifteenYear","location":8,"tl":"15Y","tp":"numeric","width":38},{"fm":"TwentyYear","fw":false,"id":"TwentyYear","location":9,"tl":"20Y","tp":"numeric","width":42},{"fm":"ThirtyYear","fw":false,"id":"ThirtyYear","location":10,"tl":"30Y","tp":"numeric","width":55},{"id":"D","width":100},{"id":"A","width":100},{"id":"!data","width":250},{"id":"M","width":120},{"id":"C","width":120},{"id":"V","width":80},{"id":"W","width":120},{"id":"T","width":100},{"id":"P","width":100},{"id":"E","width":120},{"id":"I","width":100},{"fm":"Currency","fw":false,"id":"Currency","tl":"Currency","tp":"text","width":100},{"fm":"Name","fw":false,"id":"Name","tl":"Name","tp":"text","width":100}],"amiPanelId":"USDIRVegaRisksPNL","amiStyle":{"columnFilterHide":true,"pt":"LAYOUT_DEFAULT","rowHt":22.0,"searchHide":true},"amiTitle":"USD IR Vega Risks","curtimeUpdateFrequency":1000,"editDblClk":true,"editMenuTitle":"Edit Row(s)","editMode":0,"filters":{},"hah":"true","pinCnt":0,"rollupEnabled":false,"rtDownstreamMode":"SELECTED_OR_ALL","rtSources":["FEED:VegaRisks"],"scrollToBottomOnAppend":false,"showCommandMenu":true,"sorting":[{"id":"Period","order":"asc"}],"titlePnl":{"title":"USD IR Vega Risks"},"upid":"USDIRVegaRisksPNL","varTypes":{"Currency":"String","FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","Name":"String","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"fm":"Name","fw":false,"id":"Name","location":0,"tl":"Name","tp":"text","width":44},{"fm":"Total","fw":false,"id":"Total","location":1,"tl":"Total","tp":"numeric","width":54},{"fm":"USD","fw":false,"id":"USD","location":2,"tl":"USD","tp":"numeric","width":40},{"fm":"EUR","fw":false,"id":"EUR","location":3,"tl":"EUR","tp":"numeric","width":51},{"fm":"JPY","fw":false,"id":"JPY","location":4,"tl":"JPY","tp":"numeric","width":50},{"id":"D","width":100}],"amiPanelId":"VolPnL","amiStyle":{"actCl":"#66666678","bgCl":"#3c404c","cellBdrCl":"#505566","cellBtmPx":1.0,"cellPadHt":1.0,"columnFilterHeight":8.0,"columnFilterHide":true,"fontCl":"#ededed","fontSz":12.0,"graybarCl":"#3c404c","headerDivHide":true,"headerFontSz":12.0,"headerHt":21.0,"pdBdrSzPx":1.0,"pdTpPx":8.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"selCl":"#66666678","titlePnlAlign":"left","vtAlign":"center"},"amiTitle":"VolPnL","corId":"Name","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolPnL","dmtbid":["VolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"VolPnL"},"upid":"VolPnL","varTypes":{"EUR":"Double","JPY":"Double","Name":"String","Total":"Double","USD":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["USDVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols"},"upid":"Vols","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols1","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["EURVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols"},"upid":"Vols1","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols2","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"Vols","dmtbid":["JPYVols"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols"},"upid":"Vols2","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols3","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["USDVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Vols Changes"},"upid":"Vols3","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols4","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["EURVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Vols Changes"},"upid":"Vols4","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols5","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Vols Changes","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"VolsChanges","dmtbid":["JPYVolsChanges"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Vols Changes"},"upid":"Vols5","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols6","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"USD Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["USDTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"USD Total IR Vol PnL"},"upid":"Vols6","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols7","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"EUR Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["EURTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"EUR Total IR Vol PnL"},"upid":"Vols7","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}},{"portletBuilderId":"amistatictable","portletConfig":{"amiCols":[{"ei":"","eof":"","fm":"Period","fw":false,"hs":"\"center\"","id":"Period","location":0,"sr":"toSimpleTimeStrOrder(Period)","sy":"\"center\"","tl":"Period","tooltip":"","tp":"text","width":40},{"ei":"","eof":"","fm":"OneYear","fw":false,"hs":"\"center\"","id":"OneYear","location":1,"pc":2,"sy":"\"center\"","tl":"1Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwoYear","fw":false,"hs":"\"center\"","id":"TwoYear","location":2,"pc":2,"sy":"\"center\"","tl":"2Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThreeYear","fw":false,"hs":"\"center\"","id":"ThreeYear","location":3,"pc":2,"sy":"\"center\"","tl":"3Y","tooltip":"","tp":"numeric","width":65},{"ei":"","eof":"","fm":"FourYear","fw":false,"hs":"\"center\"","id":"FourYear","location":4,"pc":2,"sy":"\"center\"","tl":"4Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FiveYear","fw":false,"hs":"\"center\"","id":"FiveYear","location":5,"pc":2,"sy":"\"center\"","tl":"5Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"SevenYear","fw":false,"hs":"\"center\"","id":"SevenYear","location":6,"pc":2,"sy":"\"center\"","tl":"7Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TenYear","fw":false,"hs":"\"center\"","id":"TenYear","location":7,"pc":2,"sy":"\"center\"","tl":"10Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"FifteenYear","fw":false,"hs":"\"center\"","id":"FifteenYear","location":8,"pc":2,"sy":"\"center\"","tl":"15Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"TwentyYear","fw":false,"hs":"\"center\"","id":"TwentyYear","location":9,"pc":2,"sy":"\"center\"","tl":"20Y","tooltip":"","tp":"numeric","width":68},{"ei":"","eof":"","fm":"ThirtyYear","fw":false,"hs":"\"center\"","id":"ThirtyYear","location":10,"pc":2,"sy":"\"center\"","tl":"30Y","tooltip":"","tp":"numeric","width":68},{"id":"D","width":100}],"amiPanelId":"Vols8","amiStyle":{"cellBdrCl":"#ffffff","cellPadHt":7.0,"cellRtPx":1.0,"columnFilterHide":true,"fontSz":11.0,"headerFontSz":10.0,"headerHt":17.0,"pt":"LAYOUT_DEFAULT","rowHt":18.0,"searchHide":true,"titlePnlAlign":"left","titlePnlFontSz":14.0,"vtAlign":"center"},"amiTitle":"JPY Total IR Vol PnL","corId":"Period","curtimeUpdateFrequency":1000,"dm":[{"dmadn":"TotalIRVolPnL","dmtbid":["JPYTotalIRVolPnL"]}],"dynamicColumns":"false","editDblClk":true,"editInplace":false,"editMenuTitle":"Edit Row(s)","editMode":0,"editRerunDM":true,"filters":{},"pinCnt":0,"rollupEnabled":false,"scrollToBottomOnAppend":false,"showCommandMenu":true,"showLastRuntime":true,"titlePnl":{"title":"JPY Total IR Vol PnL"},"upid":"Vols8","varTypes":{"FifteenYear":"Double","FiveYear":"Double","FourYear":"Double","OneYear":"Double","Period":"String","SevenYear":"Double","TenYear":"Double","ThirtyYear":"Double","ThreeYear":"Double","TwentyYear":"Double","TwoYear":"Double"}}}]},"location":"ap_demo.ami","type":"CLOUD"}],"rootLayout":{"location":"ap_demo.ami","type":"CLOUD"}}
